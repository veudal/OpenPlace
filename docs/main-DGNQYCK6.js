import{$ as xt,$a as An,A as Ye,Aa as X,Ab as Ds,B as un,Ba as ui,Bb as mi,C as Ze,Ca as ls,Cb as As,D as Kr,Da as di,Db as Rs,E as dn,Ea as et,Eb as ae,F as oi,Fa as cs,Fb as Is,G as Ie,Ga as J,Gb as Tn,H as hn,Ha as En,Hb as Ls,I as Yr,Ia as us,Ib as Ps,J as Zr,Ja as On,Jb as It,K as Qr,Ka as ds,Kb as Ts,L as ye,La as Mn,Lb as Vs,M as Xr,Ma as hs,Mb as ks,N as z,Na as Te,Nb as Lt,O as pn,Oa as At,Ob as Ns,P as H,Pa as F,Pb as Us,Q as Le,Qa as xn,Qb as vi,R as fn,Ra as tt,Rb as js,S as k,Sa as K,Sb as Vn,T as be,Ta as ee,Tb as Hs,U as Jr,Ua as $,Ub as Bs,V as B,Va as _n,W as gn,Wa as Dn,X as N,Xa as ps,Y as D,Ya as it,Z as mn,Za as ge,_ as es,_a as fs,a as M,aa as Fe,ab as oe,b as Q,ba as Ce,bb as te,ca as Qe,cb as ie,d as Sa,da as ai,db as Rt,e as Ea,ea as ts,eb as gs,f as Be,fa as Xe,fb as ms,g as $r,ga as Pe,gb as vs,h as qr,ha as li,hb as ys,i as on,ia as vn,ib as ws,j as an,ja as yn,jb as bs,k as he,ka as wn,kb as Cs,l as pe,la as bn,lb as Ss,m as Re,ma as Cn,mb as hi,n as re,na as Je,nb as Es,o as A,oa as fe,ob as pi,p as Mt,pa as is,pb as fi,q as zr,qa as ci,qb as Rn,r as Gr,ra as ns,rb as In,s as U,sa as _t,sb as Ln,t as si,ta as rs,tb as Os,u as se,ua as Sn,ub as Pn,v as ln,va as ss,vb as gi,w as Wr,wa as os,wb as Ms,x as cn,xa as as,xb as De,y as _e,ya as Dt,yb as xs,z as Ke,za as G,zb as _s}from"./chunk-R5TQUJGQ.js";var Go=Sa(($i,Ir)=>{"use strict";(function(r,t){typeof $i=="object"&&typeof Ir=="object"?Ir.exports=t():typeof define=="function"&&define.amd?define([],t):typeof $i=="object"?$i.Pickr=t():r.Pickr=t()})(self,()=>(()=>{"use strict";var r={d:(C,y)=>{for(var u in y)r.o(y,u)&&!r.o(C,u)&&Object.defineProperty(C,u,{enumerable:!0,get:y[u]})},o:(C,y)=>Object.prototype.hasOwnProperty.call(C,y),r:C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}},t={};r.d(t,{default:()=>ca});var i={};function e(C,y,u,h,f={}){y instanceof HTMLCollection||y instanceof NodeList?y=Array.from(y):Array.isArray(y)||(y=[y]),Array.isArray(u)||(u=[u]);for(let d of y)for(let g of u)d[C](g,h,M({capture:!1},f));return Array.prototype.slice.call(arguments,1)}r.r(i),r.d(i,{adjustableInputNumbers:()=>p,createElementFromString:()=>o,createFromTemplate:()=>a,eventPath:()=>l,off:()=>s,on:()=>n,resolveElement:()=>c});let n=e.bind(null,"addEventListener"),s=e.bind(null,"removeEventListener");function o(C){let y=document.createElement("div");return y.innerHTML=C.trim(),y.firstElementChild}function a(C){let y=(h,f)=>{let d=h.getAttribute(f);return h.removeAttribute(f),d},u=(h,f={})=>{let d=y(h,":obj"),g=y(h,":ref"),v=d?f[d]={}:f;g&&(f[g]=h);for(let w of Array.from(h.children)){let _=y(w,":arr"),x=u(w,_?{}:v);_&&(v[_]||(v[_]=[])).push(Object.keys(x).length?x:w)}return f};return u(o(C))}function l(C){let y=C.path||C.composedPath&&C.composedPath();if(y)return y;let u=C.target.parentElement;for(y=[C.target,u];u=u.parentElement;)y.push(u);return y.push(document,window),y}function c(C){return C instanceof Element?C:typeof C=="string"?C.split(/>>/g).reduce((y,u,h,f)=>(y=y.querySelector(u),h<f.length-1?y.shadowRoot:y),document):null}function p(C,y=u=>u){function u(h){let f=[.001,.01,.1][Number(h.shiftKey||2*h.ctrlKey)]*(h.deltaY<0?1:-1),d=0,g=C.selectionStart;C.value=C.value.replace(/[\d.]+/g,(v,w)=>w<=g&&w+v.length>=g?(g=w,y(Number(v),f,d)):(d++,v)),C.focus(),C.setSelectionRange(g,g),h.preventDefault(),C.dispatchEvent(new Event("input"))}n(C,"focus",()=>n(window,"wheel",u,{passive:!1})),n(C,"blur",()=>s(window,"wheel",u))}let{min:b,max:O,floor:L,round:He}=Math;function xe(C,y,u){y/=100,u/=100;let h=L(C=C/360*6),f=C-h,d=u*(1-y),g=u*(1-f*y),v=u*(1-(1-f)*y),w=h%6;return[255*[u,g,d,d,v,u][w],255*[v,u,u,g,d,d][w],255*[d,d,v,u,u,g][w]]}function bt(C,y,u){let h=(2-(y/=100))*(u/=100)/2;return h!==0&&(y=h===1?0:h<.5?y*u/(2*h):y*u/(2-2*h)),[C,100*y,100*h]}function ve(C,y,u){let h=b(C/=255,y/=255,u/=255),f=O(C,y,u),d=f-h,g,v;if(d===0)g=v=0;else{v=d/f;let w=((f-C)/6+d/2)/d,_=((f-y)/6+d/2)/d,x=((f-u)/6+d/2)/d;C===f?g=x-_:y===f?g=1/3+w-x:u===f&&(g=2/3+_-w),g<0?g+=1:g>1&&(g-=1)}return[360*g,100*v,100*f]}function Yi(C,y,u,h){return y/=100,u/=100,[...ve(255*(1-b(1,(C/=100)*(1-(h/=100))+h)),255*(1-b(1,y*(1-h)+h)),255*(1-b(1,u*(1-h)+h)))]}function na(C,y,u){y/=100;let h=2*(y*=(u/=100)<.5?u:1-u)/(u+y)*100,f=100*(u+y);return[C,isNaN(h)?0:h,f]}function ra(C){return ve(...C.match(/.{2}/g).map(y=>parseInt(y,16)))}function sa(C){C=C.match(/^[a-zA-Z]+$/)?function(f){if(f.toLowerCase()==="black")return"#000";let d=document.createElement("canvas").getContext("2d");return d.fillStyle=f,d.fillStyle==="#000"?null:d.fillStyle}(C):C;let y={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},u=f=>f.map(d=>/^(|\d+)\.\d+|\d+$/.test(d)?Number(d):void 0),h;e:for(let f in y)if(h=y[f].exec(C))switch(f){case"cmyk":{let[,d,g,v,w]=u(h);if(d>100||g>100||v>100||w>100)break e;return{values:Yi(d,g,v,w),type:f}}case"rgba":{let[,d,,g,,v,,,w]=u(h);if(d=h[2]==="%"?d/100*255:d,g=h[4]==="%"?g/100*255:g,v=h[6]==="%"?v/100*255:v,w=h[9]==="%"?w/100:w,d>255||g>255||v>255||w<0||w>1)break e;return{values:[...ve(d,g,v),w],a:w,type:f}}case"hexa":{let[,d]=h;d.length!==4&&d.length!==3||(d=d.split("").map(w=>w+w).join(""));let g=d.substring(0,6),v=d.substring(6);return v=v?parseInt(v,16)/255:void 0,{values:[...ra(g),v],a:v,type:f}}case"hsla":{let[,d,g,v,,w]=u(h);if(w=h[6]==="%"?w/100:w,d>360||g>100||v>100||w<0||w>1)break e;return{values:[...na(d,g,v),w],a:w,type:f}}case"hsva":{let[,d,g,v,,w]=u(h);if(w=h[6]==="%"?w/100:w,d>360||g>100||v>100||w<0||w>1)break e;return{values:[d,g,v,w],a:w,type:f}}}return{values:null,type:null}}function Ct(C=0,y=0,u=0,h=1){let f=(g,v)=>(w=-1)=>v(~w?g.map(_=>Number(_.toFixed(w))):g),d={h:C,s:y,v:u,a:h,toHSVA(){let g=[d.h,d.s,d.v,d.a];return g.toString=f(g,v=>`hsva(${v[0]}, ${v[1]}%, ${v[2]}%, ${d.a})`),g},toHSLA(){let g=[...bt(d.h,d.s,d.v),d.a];return g.toString=f(g,v=>`hsla(${v[0]}, ${v[1]}%, ${v[2]}%, ${d.a})`),g},toRGBA(){let g=[...xe(d.h,d.s,d.v),d.a];return g.toString=f(g,v=>`rgba(${v[0]}, ${v[1]}, ${v[2]}, ${d.a})`),g},toCMYK(){let g=function(v,w,_){let x=xe(v,w,_),S=x[0]/255,P=x[1]/255,T=x[2]/255,I=b(1-S,1-P,1-T);return[100*(I===1?0:(1-S-I)/(1-I)),100*(I===1?0:(1-P-I)/(1-I)),100*(I===1?0:(1-T-I)/(1-I)),100*I]}(d.h,d.s,d.v);return g.toString=f(g,v=>`cmyk(${v[0]}%, ${v[1]}%, ${v[2]}%, ${v[3]}%)`),g},toHEXA(){let g=function(w,_,x){return xe(w,_,x).map(S=>He(S).toString(16).padStart(2,"0"))}(d.h,d.s,d.v),v=d.a>=1?"":Number((255*d.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return v&&g.push(v),g.toString=()=>`#${g.join("").toUpperCase()}`,g},clone:()=>Ct(d.h,d.s,d.v,d.a)};return d}let ni=C=>Math.max(Math.min(C,1),0);function Zi(C){let y={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},C),_keyboard(d){let{options:g}=y,{type:v,key:w}=d;if(document.activeElement===g.wrapper){let{lock:_}=y.options,x=w==="ArrowUp",S=w==="ArrowRight",P=w==="ArrowDown",T=w==="ArrowLeft";if(v==="keydown"&&(x||S||P||T)){let I=0,W=0;_==="v"?I=x||S?1:-1:_==="h"?I=x||S?-1:1:(W=x?-1:P?1:0,I=T?-1:S?1:0),y.update(ni(y.cache.x+.01*I),ni(y.cache.y+.01*W)),d.preventDefault()}else w.startsWith("Arrow")&&(y.options.onstop(),d.preventDefault())}},_tapstart(d){n(document,["mouseup","touchend","touchcancel"],y._tapstop),n(document,["mousemove","touchmove"],y._tapmove),d.cancelable&&d.preventDefault(),y._tapmove(d)},_tapmove(d){let{options:g,cache:v}=y,{lock:w,element:_,wrapper:x}=g,S=x.getBoundingClientRect(),P=0,T=0;if(d){let ne=d&&d.touches&&d.touches[0];P=d?(ne||d).clientX:0,T=d?(ne||d).clientY:0,P<S.left?P=S.left:P>S.left+S.width&&(P=S.left+S.width),T<S.top?T=S.top:T>S.top+S.height&&(T=S.top+S.height),P-=S.left,T-=S.top}else v&&(P=v.x*S.width,T=v.y*S.height);w!=="h"&&(_.style.left=`calc(${P/S.width*100}% - ${_.offsetWidth/2}px)`),w!=="v"&&(_.style.top=`calc(${T/S.height*100}% - ${_.offsetHeight/2}px)`),y.cache={x:P/S.width,y:T/S.height};let I=ni(P/S.width),W=ni(T/S.height);switch(w){case"v":return g.onchange(I);case"h":return g.onchange(W);default:return g.onchange(I,W)}},_tapstop(){y.options.onstop(),s(document,["mouseup","touchend","touchcancel"],y._tapstop),s(document,["mousemove","touchmove"],y._tapmove)},trigger(){y._tapmove()},update(d=0,g=0){let{left:v,top:w,width:_,height:x}=y.options.wrapper.getBoundingClientRect();y.options.lock==="h"&&(g=d),y._tapmove({clientX:v+_*d,clientY:w+x*g})},destroy(){let{options:d,_tapstart:g,_keyboard:v}=y;s(document,["keydown","keyup"],v),s([d.wrapper,d.element],"mousedown",g),s([d.wrapper,d.element],"touchstart",g,{passive:!1})}},{options:u,_tapstart:h,_keyboard:f}=y;return n([u.wrapper,u.element],"mousedown",h),n([u.wrapper,u.element],"touchstart",h,{passive:!1}),n(document,["keydown","keyup"],f),y}function oa(C={}){C=Object.assign({onchange:()=>0,className:"",elements:[]},C);let y=n(C.elements,"click",u=>{C.elements.forEach(h=>h.classList[u.target===h?"add":"remove"](C.className)),C.onchange(u),u.stopPropagation()});return{destroy:()=>s(...y)}}let aa={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},la=(C,y,u)=>{let h=typeof C!="object"||C instanceof HTMLElement?M({reference:C,popper:y},u):C;return{update(f=h){let{reference:d,popper:g}=Object.assign(h,f);if(!g||!d)throw new Error("Popper- or reference-element missing.");return((v,w,_)=>{let{container:x,arrow:S,margin:P,padding:T,position:I,variantFlipOrder:W,positionFlipOrder:ne}=M(M({container:document.documentElement.getBoundingClientRect()},aa),_),{left:Qi,top:Xi}=w.style;w.style.left="0",w.style.top="0";let Z=v.getBoundingClientRect(),de=w.getBoundingClientRect(),ua={t:Z.top-de.height-P,b:Z.bottom+P,r:Z.right+P,l:Z.left-de.width-P},da={vs:Z.left,vm:Z.left+Z.width/2-de.width/2,ve:Z.left+Z.width-de.width,hs:Z.top,hm:Z.bottom-Z.height/2-de.height/2,he:Z.bottom-de.height},[ha,pa="middle"]=I.split("-"),fa=ne[ha],ga=W[pa],{top:Ur,left:jr,bottom:Hr,right:Br}=x;for(let St of fa){let We=St==="t"||St==="b",Et=ua[St],[Ji,en]=We?["top","left"]:["left","top"],[tn,nn]=We?[de.height,de.width]:[de.width,de.height],[ma,va]=We?[Hr,Br]:[Br,Hr],[ya,wa]=We?[Ur,jr]:[jr,Ur];if(!(Et<ya||Et+tn+T>ma))for(let rn of ga){let Ot=da[(We?"v":"h")+rn];if(!(Ot<wa||Ot+nn+T>va)){if(Ot-=de[en],Et-=de[Ji],w.style[en]=`${Ot}px`,w.style[Ji]=`${Et}px`,S){let sn=We?Z.width/2:Z.height/2,ri=nn/2,Fr=sn>ri,ba=Ot+{s:Fr?ri:sn,m:ri,e:Fr?ri:nn-sn}[rn],Ca=Et+{t:tn,b:0,r:0,l:tn}[St];S.style[en]=`${ba}px`,S.style[Ji]=`${Ca}px`}return St+rn}}}return w.style.left=Qi,w.style.top=Xi,null})(d,g,h)}}},ca=(()=>{class C{static utils=i;static version="1.9.1";static I18N_DEFAULTS={"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"};static DEFAULT_OPTIONS={appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"};_initializingActive=!0;_recalc=!0;_nanopop=null;_root=null;_color=Ct();_lastColor=Ct();_swatchColors=[];_setupAnimationFrame=null;_eventListener={init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]};constructor(u){this.options=u=Object.assign(M({},C.DEFAULT_OPTIONS),u);let{swatches:h,components:f,theme:d,sliders:g,lockOpacity:v,padding:w}=u;["nano","monolith"].includes(d)&&!g&&(u.sliders="h"),f.interaction||(f.interaction={});let{preview:_,opacity:x,hue:S,palette:P}=f;f.opacity=!v&&x,f.palette=P||_||x||S,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),h&&h.length&&h.forEach(ne=>this.addSwatch(ne));let{button:T,app:I}=this._root;this._nanopop=la(T,I,{margin:w}),T.setAttribute("role","button"),T.setAttribute("aria-label",this._t("btn:toggle"));let W=this;this._setupAnimationFrame=requestAnimationFrame(function ne(){if(!I.offsetWidth)return requestAnimationFrame(ne);W.setColor(u.default),W._rePositioningPicker(),u.defaultRepresentation&&(W._representation=u.defaultRepresentation,W.setColorRepresentation(W._representation)),u.showAlways&&W.show(),W._initializingActive=!1,W._emit("init")})}static create=u=>new C(u);_preBuild(){let{options:u}=this;for(let h of["el","container"])u[h]=c(u[h]);this._root=(h=>{let{components:f,useAsButton:d,inline:g,appClass:v,theme:w,lockOpacity:_}=h.options,x=I=>I?"":'style="display:none" hidden',S=I=>h._t(I),P=a(`
      <div :ref="root" class="pickr">

        ${d?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${v||""}" data-theme="${w}" ${g?'style="position: unset"':""} aria-label="${S("ui:dialog")}" role="window">
          <div class="pcr-selection" ${x(f.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${x(f.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${S("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${S("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${x(f.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${S("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${x(f.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${S("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${f.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${x(Object.keys(f.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${x(f.interaction.input)} aria-label="${S("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${_?"HEX":"HEXA"}" type="button" ${x(f.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${_?"RGB":"RGBA"}" type="button" ${x(f.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${_?"HSL":"HSLA"}" type="button" ${x(f.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${_?"HSV":"HSVA"}" type="button" ${x(f.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${x(f.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${S("btn:save")}" type="button" ${x(f.interaction.save)} aria-label="${S("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${S("btn:cancel")}" type="button" ${x(f.interaction.cancel)} aria-label="${S("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${S("btn:clear")}" type="button" ${x(f.interaction.clear)} aria-label="${S("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),T=P.interaction;return T.options.find(I=>!I.hidden&&!I.classList.add("active")),T.type=()=>T.options.find(I=>I.classList.contains("active")),P})(this),u.useAsButton&&(this._root.button=u.el),u.container.appendChild(this._root.root)}_finalBuild(){let u=this.options,h=this._root;if(u.container.removeChild(h.root),u.inline){let f=u.el.parentElement;u.el.nextSibling?f.insertBefore(h.app,u.el.nextSibling):f.appendChild(h.app)}else u.container.appendChild(h.app);u.useAsButton?u.inline&&u.el.remove():u.el.parentNode.replaceChild(h.root,u.el),u.disabled&&this.disable(),u.comparison||(h.button.style.transition="none",u.useAsButton||(h.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){let u=this,h=this.options.components,f=(u.options.sliders||"v").repeat(2),[d,g]=f.match(/^[vh]+$/g)?f:[],v=()=>this._color||(this._color=this._lastColor.clone()),w={palette:Zi({element:u._root.palette.picker,wrapper:u._root.palette.palette,onstop:()=>u._emit("changestop","slider",u),onchange(_,x){if(!h.palette)return;let S=v(),{_root:P,options:T}=u,{lastColor:I,currentColor:W}=P.preview;u._recalc&&(S.s=100*_,S.v=100-100*x,S.v<0&&(S.v=0),u._updateOutput("slider"));let ne=S.toRGBA().toString(0);this.element.style.background=ne,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${S.a}), transparent),
                        linear-gradient(to left, hsla(${S.h}, 100%, 50%, ${S.a}), rgba(255, 255, 255, ${S.a}))
                    `,T.comparison?T.useAsButton||u._lastColor||I.style.setProperty("--pcr-color",ne):(P.button.style.setProperty("--pcr-color",ne),P.button.classList.remove("clear"));let Qi=S.toHEXA().toString();for(let{el:Xi,color:Z}of u._swatchColors)Xi.classList[Qi===Z.toHEXA().toString()?"add":"remove"]("pcr-active");W.style.setProperty("--pcr-color",ne)}}),hue:Zi({lock:g==="v"?"h":"v",element:u._root.hue.picker,wrapper:u._root.hue.slider,onstop:()=>u._emit("changestop","slider",u),onchange(_){if(!h.hue||!h.palette)return;let x=v();u._recalc&&(x.h=360*_),this.element.style.backgroundColor=`hsl(${x.h}, 100%, 50%)`,w.palette.trigger()}}),opacity:Zi({lock:d==="v"?"h":"v",element:u._root.opacity.picker,wrapper:u._root.opacity.slider,onstop:()=>u._emit("changestop","slider",u),onchange(_){if(!h.opacity||!h.palette)return;let x=v();u._recalc&&(x.a=Math.round(100*_)/100),this.element.style.background=`rgba(0, 0, 0, ${x.a})`,w.palette.trigger()}}),selectable:oa({elements:u._root.interaction.options,className:"active",onchange(_){u._representation=_.target.getAttribute("data-type").toUpperCase(),u._recalc&&u._updateOutput("swatch")}})};this._components=w}_bindEvents(){let{_root:u,options:h}=this,f=[n(u.interaction.clear,"click",()=>this._clearColor()),n([u.interaction.cancel,u.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),n(u.interaction.save,"click",()=>{!this.applyColor()&&!h.showAlways&&this.hide()}),n(u.interaction.result,["keyup","input"],d=>{this.setColor(d.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),d.stopImmediatePropagation()}),n(u.interaction.result,["focus","blur"],d=>{this._recalc=d.type==="blur",this._recalc&&this._updateOutput(null)}),n([u.palette.palette,u.palette.picker,u.hue.slider,u.hue.picker,u.opacity.slider,u.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!h.showAlways){let d=h.closeWithKey;f.push(n(u.button,"click",()=>this.isOpen()?this.hide():this.show()),n(document,"keyup",g=>this.isOpen()&&(g.key===d||g.code===d)&&this.hide()),n(document,["touchstart","mousedown"],g=>{this.isOpen()&&!l(g).some(v=>v===u.app||v===u.button)&&this.hide()},{capture:!0}))}if(h.adjustableNumbers){let d={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};p(u.interaction.result,(g,v,w)=>{let _=d[this.getColorRepresentation().toLowerCase()];if(_){let x=_[w],S=g+(x>=100?1e3*v:v);return S<=0?0:Number((S<x?S:x).toPrecision(3))}return g})}if(h.autoReposition&&!h.inline){let d=null,g=this;f.push(n(window,["scroll","resize"],()=>{g.isOpen()&&(h.closeOnScroll&&g.hide(),d===null?(d=setTimeout(()=>d=null,100),requestAnimationFrame(function v(){g._rePositioningPicker(),d!==null&&requestAnimationFrame(v)})):(clearTimeout(d),d=setTimeout(()=>d=null,100)))},{capture:!0}))}this._eventBindings=f}_rePositioningPicker(){let{options:u}=this;if(!u.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:u.position})){let h=this._root.app,f=h.getBoundingClientRect();h.style.top=(window.innerHeight-f.height)/2+"px",h.style.left=(window.innerWidth-f.width)/2+"px"}}_updateOutput(u){let{_root:h,_color:f,options:d}=this;if(h.interaction.type()){let g=`to${h.interaction.type().getAttribute("data-type")}`;h.interaction.result.value=typeof f[g]=="function"?f[g]().toString(d.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",f,u,this)}_clearColor(u=!1){let{_root:h,options:f}=this;f.useAsButton||h.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),h.button.classList.add("clear"),f.showAlways||this.hide(),this._lastColor=null,this._initializingActive||u||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(u){let{values:h,type:f,a:d}=sa(u),{lockOpacity:g}=this.options,v=d!==void 0&&d!==1;return h&&h.length===3&&(h[3]=void 0),{values:!h||g&&v?null:h,type:f}}_t(u){return this.options.i18n[u]||C.I18N_DEFAULTS[u]}_emit(u,...h){this._eventListener[u].forEach(f=>f(...h,this))}on(u,h){return this._eventListener[u].push(h),this}off(u,h){let f=this._eventListener[u]||[],d=f.indexOf(h);return~d&&f.splice(d,1),this}addSwatch(u){let{values:h}=this._parseLocalColor(u);if(h){let{_swatchColors:f,_root:d}=this,g=Ct(...h),v=o(`<button type="button" style="--pcr-color: ${g.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return d.swatches.appendChild(v),f.push({el:v,color:g}),this._eventBindings.push(n(v,"click",()=>{this.setHSVA(...g.toHSVA(),!0),this._emit("swatchselect",g),this._emit("change",g,"swatch",this)})),!0}return!1}removeSwatch(u){let h=this._swatchColors[u];if(h){let{el:f}=h;return this._root.swatches.removeChild(f),this._swatchColors.splice(u,1),!0}return!1}applyColor(u=!1){let{preview:h,button:f}=this._root,d=this._color.toRGBA().toString(0);return h.lastColor.style.setProperty("--pcr-color",d),this.options.useAsButton||f.style.setProperty("--pcr-color",d),f.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||u||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(u=>s(...u)),Object.keys(this._components).forEach(u=>this._components[u].destroy())}destroyAndRemove(){this.destroy();let{root:u,app:h}=this._root;u.parentElement&&u.parentElement.removeChild(u),h.parentElement.removeChild(h),Object.keys(this).forEach(f=>this[f]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(u=360,h=0,f=0,d=1,g=!1){let v=this._recalc;if(this._recalc=!1,u<0||u>360||h<0||h>100||f<0||f>100||d<0||d>1)return!1;this._color=Ct(u,h,f,d);let{hue:w,opacity:_,palette:x}=this._components;return w.update(u/360),_.update(d),x.update(h/100,1-f/100),g||this.applyColor(),v&&this._updateOutput(),this._recalc=v,!0}setColor(u,h=!1){if(u===null)return this._clearColor(h),!0;let{values:f,type:d}=this._parseLocalColor(u);if(f){let g=d.toUpperCase(),{options:v}=this._root.interaction,w=v.find(_=>_.getAttribute("data-type")===g);if(w&&!w.hidden)for(let _ of v)_.classList[_===w?"add":"remove"]("active");return!!this.setHSVA(...f,h)&&this.setColorRepresentation(g)}return!1}setColorRepresentation(u){return u=u.toUpperCase(),!!this._root.interaction.options.find(h=>h.getAttribute("data-type").startsWith(u)&&!h.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}return C})();return t=t.default})())});var Un=class extends Rs{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jn=class r extends Un{static makeCurrent(){As(new r)}onAndCancel(t,i,e){return t.addEventListener(i,e),()=>{t.removeEventListener(i,e)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=Ma();return i==null?null:xa(i)}resetBaseElement(){Pt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ts(document.cookie,t)}},Pt=null;function Ma(){return Pt=Pt||document.querySelector("base"),Pt?Pt.getAttribute("href"):null}function xa(r){return new URL(r,document.baseURI).pathname}var Hn=class{addToWindow(t){Le.getAngularTestability=(e,n=!0)=>{let s=t.findTestabilityInTree(e,n);if(s==null)throw new H(5103,!1);return s},Le.getAllAngularTestabilities=()=>t.getAllTestabilities(),Le.getAllAngularRootElements=()=>t.getAllRootElements();let i=e=>{let n=Le.getAllAngularTestabilities(),s=n.length,o=function(){s--,s==0&&e()};n.forEach(a=>{a.whenStable(o)})};Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,e){if(i==null)return null;let n=t.getTestability(i);return n??(e?mi().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},_a=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})(),Bn=new B(""),zs=(()=>{let t=class t{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,s){return this._findPluginFor(n).addEventListener(e,n,s)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new H(5101,!1);return this._eventNameToPlugin.set(e,n),n}};t.\u0275fac=function(n){return new(n||t)(N(Bn),N(J))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})(),yi=class{constructor(t){this._doc=t}},kn="ng-app-id",Gs=(()=>{let t=class t{constructor(e,n,s,o={}){this.doc=e,this.appId=n,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vn(o),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(s=>s.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${kn}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(s=>{s.textContent!=null&&n.set(s.textContent,s)}),n}return null}changeUsageCount(e,n){let s=this.styleRef;if(s.has(e)){let o=s.get(e);return o.usage+=n,o.usage}return s.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let s=this.styleNodesInDOM,o=s?.get(n);if(o?.parentNode===e)return s.delete(n),o.removeAttribute(kn),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(kn,this.appId),e.appendChild(a),a}}addStyleToHost(e,n){let s=this.getStyleElement(e,n),o=this.styleRef,a=o.get(n)?.elements;a?a.push(s):o.set(n,{elements:[s],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};t.\u0275fac=function(n){return new(n||t)(N(ae),N(ci),N(Sn,8),N(_t))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})(),Nn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$n=/%COMP%/g,Ws="%COMP%",Da=`_nghost-${Ws}`,Aa=`_ngcontent-${Ws}`,Ra=!0,Ia=new B("",{providedIn:"root",factory:()=>Ra});function La(r){return Aa.replace($n,r)}function Pa(r){return Da.replace($n,r)}function Ks(r,t){return t.map(i=>i.replace($n,r))}var wi=(()=>{let t=class t{constructor(e,n,s,o,a,l,c,p=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Vn(l),this.defaultRenderer=new Tt(e,a,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===xt.ShadowDom&&(n=Q(M({},n),{encapsulation:xt.Emulated}));let s=this.getOrCreateRenderer(e,n);return s instanceof bi?s.applyToHost(e):s instanceof Vt&&s.applyStyles(),s}getOrCreateRenderer(e,n){let s=this.rendererByCompId,o=s.get(n.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,p=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,O=this.platformIsServer;switch(n.encapsulation){case xt.Emulated:o=new bi(c,p,n,this.appId,b,a,l,O);break;case xt.ShadowDom:return new Fn(c,p,e,n,a,l,this.nonce,O);default:o=new Vt(c,p,n,b,a,l,O);break}s.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(n){return new(n||t)(N(zs),N(Gs),N(ci),N(Ia),N(ae),N(_t),N(J),N(Sn))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})(),Tt=class{constructor(t,i,e,n){this.eventManager=t,this.doc=i,this.ngZone=e,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Nn[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Fs(t)?t.content:t).appendChild(i)}insertBefore(t,i,e){t&&(Fs(t)?t.content:t).insertBefore(i,e)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let e=typeof t=="string"?this.doc.querySelector(t):t;if(!e)throw new H(-5104,!1);return i||(e.textContent=""),e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,e,n){if(n){i=n+":"+i;let s=Nn[n];s?t.setAttributeNS(s,i,e):t.setAttribute(i,e)}else t.setAttribute(i,e)}removeAttribute(t,i,e){if(e){let n=Nn[e];n?t.removeAttributeNS(n,i):t.removeAttribute(`${e}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,e,n){n&(Dt.DashCase|Dt.Important)?t.style.setProperty(i,e,n&Dt.Important?"important":""):t.style[i]=e}removeStyle(t,i,e){e&Dt.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,e){t!=null&&(t[i]=e)}setValue(t,i){t.nodeValue=i}listen(t,i,e){if(typeof t=="string"&&(t=mi().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(e))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Fs(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Fn=class extends Tt{constructor(t,i,e,n,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=i,this.hostEl=e,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ks(n.id,n.styles);for(let p of c){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=p,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,e){return super.insertBefore(this.nodeOrShadowRoot(t),i,e)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vt=class extends Tt{constructor(t,i,e,n,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=n,this.styles=l?Ks(l,e.styles):e.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bi=class extends Vt{constructor(t,i,e,n,s,o,a,l){let c=n+"-"+e.id;super(t,i,e,s,o,a,l,c),this.contentAttr=La(c),this.hostAttr=Pa(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let e=super.createElement(t,i);return super.setAttribute(e,this.contentAttr,""),e}},Ta=(()=>{let t=class t extends yi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,s){return e.addEventListener(n,s,!1),()=>this.removeEventListener(e,n,s)}removeEventListener(e,n,s){return e.removeEventListener(n,s)}};t.\u0275fac=function(n){return new(n||t)(N(ae))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})(),$s=["alt","control","meta","shift"],Va={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ka={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},Na=(()=>{let t=class t extends yi{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,s){let o=t.parseEventName(n),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(e,o.domEventName,a))}static parseEventName(e){let n=e.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(n.pop()),a="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),a="code."),$s.forEach(p=>{let b=n.indexOf(p);b>-1&&(n.splice(b,1),a+=p+".")}),a+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(e,n){let s=Va[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(s=e.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),$s.forEach(a=>{if(a!==s){let l=ka[a];l(e)&&(o+=a+".")}}),o+=s,o===n)}static eventCallback(e,n,s){return o=>{t.matchEventFullKeyCode(o,e)&&s.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}};t.\u0275fac=function(n){return new(n||t)(N(ae))},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})();function Ua(){jn.makeCurrent()}function ja(){return new Cn}function Ha(){return is(document),document}var Ba=[{provide:_t,useValue:js},{provide:ns,useValue:Ua,multi:!0},{provide:ae,useFactory:Ha,deps:[]}],Ys=Ms(xs,"browser",Ba),Fa=new B(""),$a=[{provide:pi,useClass:Hn,deps:[]},{provide:Es,useClass:fi,deps:[J,Rn,pi]},{provide:fi,useClass:fi,deps:[J,Rn,pi]}],qa=[{provide:ts,useValue:"root"},{provide:Cn,useFactory:ja,deps:[]},{provide:Bn,useClass:Ta,multi:!0,deps:[ae,J,_t]},{provide:Bn,useClass:Na,multi:!0,deps:[ae]},wi,Gs,zs,{provide:di,useExisting:wi},{provide:Bs,useClass:_a,deps:[]},[]],Zs=(()=>{let t=class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:ci,useValue:e.appId}]}}};t.\u0275fac=function(n){return new(n||t)(N(Fa,12))},t.\u0275mod=Ce({type:t}),t.\u0275inj=be({providers:[...qa,...$a],imports:[vi,_s]});let r=t;return r})();var Qs=(()=>{let t=class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}};t.\u0275fac=function(n){return new(n||t)(N(ae))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var R="primary",Zt=Symbol("RouteTitle"),Kn=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function lt(r){return new Kn(r)}function Ga(r,t,i){let e=i.path.split("/");if(e.length>r.length||i.pathMatch==="full"&&(t.hasChildren()||e.length<r.length))return null;let n={};for(let s=0;s<e.length;s++){let o=e[s],a=r[s];if(o.startsWith(":"))n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:r.slice(0,e.length),posParams:n}}function Wa(r,t){if(r.length!==t.length)return!1;for(let i=0;i<r.length;++i)if(!Se(r[i],t[i]))return!1;return!0}function Se(r,t){let i=r?Yn(r):void 0,e=t?Yn(t):void 0;if(!i||!e||i.length!=e.length)return!1;let n;for(let s=0;s<i.length;s++)if(n=i[s],!ao(r[n],t[n]))return!1;return!0}function Yn(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function ao(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let i=[...r].sort(),e=[...t].sort();return i.every((n,s)=>e[s]===n)}else return r===t}function lo(r){return r.length>0?r[r.length-1]:null}function Ue(r){return zr(r)?r:In(r)?re(Promise.resolve(r)):A(r)}var Ka={exact:uo,subset:ho},co={exact:Ya,subset:Za,ignored:()=>!0};function Js(r,t,i){return Ka[i.paths](r.root,t.root,i.matrixParams)&&co[i.queryParams](r.queryParams,t.queryParams)&&!(i.fragment==="exact"&&r.fragment!==t.fragment)}function Ya(r,t){return Se(r,t)}function uo(r,t,i){if(!qe(r.segments,t.segments)||!Ei(r.segments,t.segments,i)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let e in t.children)if(!r.children[e]||!uo(r.children[e],t.children[e],i))return!1;return!0}function Za(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(i=>ao(r[i],t[i]))}function ho(r,t,i){return po(r,t,t.segments,i)}function po(r,t,i,e){if(r.segments.length>i.length){let n=r.segments.slice(0,i.length);return!(!qe(n,i)||t.hasChildren()||!Ei(n,i,e))}else if(r.segments.length===i.length){if(!qe(r.segments,i)||!Ei(r.segments,i,e))return!1;for(let n in t.children)if(!r.children[n]||!ho(r.children[n],t.children[n],e))return!1;return!0}else{let n=i.slice(0,r.segments.length),s=i.slice(r.segments.length);return!qe(r.segments,n)||!Ei(r.segments,n,e)||!r.children[R]?!1:po(r.children[R],t,s,e)}}function Ei(r,t,i){return t.every((e,n)=>co[i](r[n].parameters,e.parameters))}var Ve=class{constructor(t=new V([],{}),i={},e=null){this.root=t,this.queryParams=i,this.fragment=e}get queryParamMap(){return this._queryParamMap??=lt(this.queryParams),this._queryParamMap}toString(){return Ja.serialize(this)}},V=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(e=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oi(this)}},$e=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=lt(this.parameters),this._parameterMap}toString(){return go(this)}};function Qa(r,t){return qe(r,t)&&r.every((i,e)=>Se(i.parameters,t[e].parameters))}function qe(r,t){return r.length!==t.length?!1:r.every((i,e)=>i.path===t[e].path)}function Xa(r,t){let i=[];return Object.entries(r.children).forEach(([e,n])=>{e===R&&(i=i.concat(t(n,e)))}),Object.entries(r.children).forEach(([e,n])=>{e!==R&&(i=i.concat(t(n,e)))}),i}var Qt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:()=>new Ft,providedIn:"root"});let r=t;return r})(),Ft=class{parse(t){let i=new Qn(t);return new Ve(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${kt(t.root,!0)}`,e=il(t.queryParams),n=typeof t.fragment=="string"?`#${el(t.fragment)}`:"";return`${i}${e}${n}`}},Ja=new Ft;function Oi(r){return r.segments.map(t=>go(t)).join("/")}function kt(r,t){if(!r.hasChildren())return Oi(r);if(t){let i=r.children[R]?kt(r.children[R],!1):"",e=[];return Object.entries(r.children).forEach(([n,s])=>{n!==R&&e.push(`${n}:${kt(s,!1)}`)}),e.length>0?`${i}(${e.join("//")})`:i}else{let i=Xa(r,(e,n)=>n===R?[kt(r.children[R],!1)]:[`${n}:${kt(e,!1)}`]);return Object.keys(r.children).length===1&&r.children[R]!=null?`${Oi(r)}/${i[0]}`:`${Oi(r)}/(${i.join("//")})`}}function fo(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ci(r){return fo(r).replace(/%3B/gi,";")}function el(r){return encodeURI(r)}function Zn(r){return fo(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mi(r){return decodeURIComponent(r)}function eo(r){return Mi(r.replace(/\+/g,"%20"))}function go(r){return`${Zn(r.path)}${tl(r.parameters)}`}function tl(r){return Object.entries(r).map(([t,i])=>`;${Zn(t)}=${Zn(i)}`).join("")}function il(r){let t=Object.entries(r).map(([i,e])=>Array.isArray(e)?e.map(n=>`${Ci(i)}=${Ci(n)}`).join("&"):`${Ci(i)}=${Ci(e)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var nl=/^[^\/()?;#]+/;function qn(r){let t=r.match(nl);return t?t[0]:""}var rl=/^[^\/()?;=#]+/;function sl(r){let t=r.match(rl);return t?t[0]:""}var ol=/^[^=?&#]+/;function al(r){let t=r.match(ol);return t?t[0]:""}var ll=/^[^&#]+/;function cl(r){let t=r.match(ll);return t?t[0]:""}var Qn=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(e[R]=new V(t,i)),e}parseSegment(){let t=qn(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(t),new $e(Mi(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=sl(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let n=qn(this.remaining);n&&(e=n,this.capture(e))}t[Mi(i)]=Mi(e)}parseQueryParam(t){let i=al(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let o=cl(this.remaining);o&&(e=o,this.capture(e))}let n=eo(i),s=eo(e);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(s)}else t[n]=s}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=qn(this.remaining),n=this.remaining[e.length];if(n!=="/"&&n!==")"&&n!==";")throw new H(4010,!1);let s;e.indexOf(":")>-1?(s=e.slice(0,e.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=R);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[R]:new V([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new H(4011,!1)}};function mo(r){return r.segments.length>0?new V([],{[R]:r}):r}function vo(r){let t={};for(let[e,n]of Object.entries(r.children)){let s=vo(n);if(e===R&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[e]=s)}let i=new V(r.segments,t);return ul(i)}function ul(r){if(r.numberOfChildren===1&&r.children[R]){let t=r.children[R];return new V(r.segments.concat(t.segments),t.children)}return r}function ct(r){return r instanceof Ve}function dl(r,t,i=null,e=null){let n=yo(r);return wo(n,t,i,e)}function yo(r){let t;function i(s){let o={};for(let l of s.children){let c=i(l);o[l.outlet]=c}let a=new V(s.url,o);return s===r&&(t=a),a}let e=i(r.root),n=mo(e);return t??n}function wo(r,t,i,e){let n=r;for(;n.parent;)n=n.parent;if(t.length===0)return zn(n,n,n,i,e);let s=hl(t);if(s.toRoot())return zn(n,n,new V([],{}),i,e);let o=pl(s,n,r),a=o.processChildren?jt(o.segmentGroup,o.index,s.commands):Co(o.segmentGroup,o.index,s.commands);return zn(n,o.segmentGroup,a,i,e)}function xi(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function $t(r){return typeof r=="object"&&r!=null&&r.outlets}function zn(r,t,i,e,n){let s={};e&&Object.entries(e).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`});let o;r===t?o=i:o=bo(r,t,i);let a=mo(vo(o));return new Ve(a,s,n)}function bo(r,t,i){let e={};return Object.entries(r.children).forEach(([n,s])=>{s===t?e[n]=i:e[n]=bo(s,t,i)}),new V(r.segments,e)}var _i=class{constructor(t,i,e){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=e,t&&e.length>0&&xi(e[0]))throw new H(4003,!1);let n=e.find($t);if(n&&n!==lo(e))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hl(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new _i(!0,0,r);let t=0,i=!1,e=r.reduce((n,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(s.segmentPath)return[...n,s.segmentPath]}return typeof s!="string"?[...n,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&n.push(a))}),n):[...n,s]},[]);return new _i(i,t,e)}var ot=class{constructor(t,i,e){this.segmentGroup=t,this.processChildren=i,this.index=e}};function pl(r,t,i){if(r.isAbsolute)return new ot(t,!0,0);if(!i)return new ot(t,!1,NaN);if(i.parent===null)return new ot(i,!0,0);let e=xi(r.commands[0])?0:1,n=i.segments.length-1+e;return fl(i,n,r.numberOfDoubleDots)}function fl(r,t,i){let e=r,n=t,s=i;for(;s>n;){if(s-=n,e=e.parent,!e)throw new H(4005,!1);n=e.segments.length}return new ot(e,!1,n-s)}function gl(r){return $t(r[0])?r[0].outlets:{[R]:r}}function Co(r,t,i){if(r??=new V([],{}),r.segments.length===0&&r.hasChildren())return jt(r,t,i);let e=ml(r,t,i),n=i.slice(e.commandIndex);if(e.match&&e.pathIndex<r.segments.length){let s=new V(r.segments.slice(0,e.pathIndex),{});return s.children[R]=new V(r.segments.slice(e.pathIndex),r.children),jt(s,0,n)}else return e.match&&n.length===0?new V(r.segments,{}):e.match&&!r.hasChildren()?Xn(r,t,i):e.match?jt(r,0,n):Xn(r,t,i)}function jt(r,t,i){if(i.length===0)return new V(r.segments,{});{let e=gl(i),n={};if(Object.keys(e).some(s=>s!==R)&&r.children[R]&&r.numberOfChildren===1&&r.children[R].segments.length===0){let s=jt(r.children[R],t,i);return new V(r.segments,s.children)}return Object.entries(e).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[s]=Co(r.children[s],t,o))}),Object.entries(r.children).forEach(([s,o])=>{e[s]===void 0&&(n[s]=o)}),new V(r.segments,n)}}function ml(r,t,i){let e=0,n=t,s={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(e>=i.length)return s;let o=r.segments[n],a=i[e];if($t(a))break;let l=`${a}`,c=e<i.length-1?i[e+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!io(l,c,o))return s;e+=2}else{if(!io(l,{},o))return s;e++}n++}return{match:!0,pathIndex:n,commandIndex:e}}function Xn(r,t,i){let e=r.segments.slice(0,t),n=0;for(;n<i.length;){let s=i[n];if($t(s)){let l=vl(s.outlets);return new V(e,l)}if(n===0&&xi(i[0])){let l=r.segments[t];e.push(new $e(l.path,to(i[0]))),n++;continue}let o=$t(s)?s.outlets[R]:`${s}`,a=n<i.length-1?i[n+1]:null;o&&a&&xi(a)?(e.push(new $e(o,to(a))),n+=2):(e.push(new $e(o,{})),n++)}return new V(e,{})}function vl(r){let t={};return Object.entries(r).forEach(([i,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(t[i]=Xn(new V([],{}),0,e))}),t}function to(r){let t={};return Object.entries(r).forEach(([i,e])=>t[i]=`${e}`),t}function io(r,t,i){return r==i.path&&Se(t,i.parameters)}var Ht="imperative",Y=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Y||{}),me=class{constructor(t,i){this.id=t,this.url=i}},ut=class extends me{constructor(t,i,e="imperative",n=null){super(t,i),this.type=Y.NavigationStart,this.navigationTrigger=e,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ae=class extends me{constructor(t,i,e){super(t,i),this.urlAfterRedirects=e,this.type=Y.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ce=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(ce||{}),Di=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Di||{}),ke=class extends me{constructor(t,i,e,n){super(t,i),this.reason=e,this.code=n,this.type=Y.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ne=class extends me{constructor(t,i,e,n){super(t,i),this.reason=e,this.code=n,this.type=Y.NavigationSkipped}},qt=class extends me{constructor(t,i,e,n){super(t,i),this.error=e,this.target=n,this.type=Y.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ai=class extends me{constructor(t,i,e,n){super(t,i),this.urlAfterRedirects=e,this.state=n,this.type=Y.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jn=class extends me{constructor(t,i,e,n){super(t,i),this.urlAfterRedirects=e,this.state=n,this.type=Y.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},er=class extends me{constructor(t,i,e,n,s){super(t,i),this.urlAfterRedirects=e,this.state=n,this.shouldActivate=s,this.type=Y.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tr=class extends me{constructor(t,i,e,n){super(t,i),this.urlAfterRedirects=e,this.state=n,this.type=Y.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ir=class extends me{constructor(t,i,e,n){super(t,i),this.urlAfterRedirects=e,this.state=n,this.type=Y.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nr=class{constructor(t){this.route=t,this.type=Y.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rr=class{constructor(t){this.route=t,this.type=Y.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sr=class{constructor(t){this.snapshot=t,this.type=Y.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},or=class{constructor(t){this.snapshot=t,this.type=Y.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ar=class{constructor(t){this.snapshot=t,this.type=Y.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lr=class{constructor(t){this.snapshot=t,this.type=Y.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ri=class{constructor(t,i,e){this.routerEvent=t,this.position=i,this.anchor=e,this.type=Y.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},zt=class{},Gt=class{constructor(t){this.url=t}};var cr=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xt,this.attachRef=null}},Xt=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){let s=this.getOrCreateContext(e);s.outlet=n,this.contexts.set(e,s)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new cr,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Ii=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=ur(t,this._root);return i?i.children.map(e=>e.value):[]}firstChild(t){let i=ur(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=dr(t,this._root);return i.length<2?[]:i[i.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return dr(t,this._root).map(i=>i.value)}};function ur(r,t){if(r===t.value)return t;for(let i of t.children){let e=ur(r,i);if(e)return e}return null}function dr(r,t){if(r===t.value)return[t];for(let i of t.children){let e=dr(r,i);if(e.length)return e.unshift(t),e}return[]}var le=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function st(r){let t={};return r&&r.children.forEach(i=>t[i.value.outlet]=i),t}var Li=class extends Ii{constructor(t,i){super(t),this.snapshot=i,Cr(this,t)}toString(){return this.snapshot.toString()}};function So(r){let t=yl(r),i=new pe([new $e("",{})]),e=new pe({}),n=new pe({}),s=new pe({}),o=new pe(""),a=new dt(i,e,s,o,n,R,r,t.root);return a.snapshot=t.root,new Li(new le(a,[]),t)}function yl(r){let t={},i={},e={},n="",s=new Wt([],t,e,n,i,R,r,null,{});return new Pi("",new le(s,[]))}var dt=class{constructor(t,i,e,n,s,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=e,this.fragmentSubject=n,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(U(c=>c[Zt]))??A(void 0),this.url=t,this.params=i,this.queryParams=e,this.fragment=n,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(t=>lt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(t=>lt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function br(r,t,i="emptyOnly"){let e,{routeConfig:n}=r;return t!==null&&(i==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?e={params:M(M({},t.params),r.params),data:M(M({},t.data),r.data),resolve:M(M(M(M({},r.data),t.data),n?.data),r._resolvedData)}:e={params:M({},r.params),data:M({},r.data),resolve:M(M({},r.data),r._resolvedData??{})},n&&Oo(n)&&(e.resolve[Zt]=n.title),e}var Wt=class{get title(){return this.data?.[Zt]}constructor(t,i,e,n,s,o,a,l,c){this.url=t,this.params=i,this.queryParams=e,this.fragment=n,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(e=>e.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Pi=class extends Ii{constructor(t,i){super(i),this.url=t,Cr(this,i)}toString(){return Eo(this._root)}};function Cr(r,t){t.value._routerState=r,t.children.forEach(i=>Cr(r,i))}function Eo(r){let t=r.children.length>0?` { ${r.children.map(Eo).join(", ")} } `:"";return`${r.value}${t}`}function Gn(r){if(r.snapshot){let t=r.snapshot,i=r._futureSnapshot;r.snapshot=i,Se(t.queryParams,i.queryParams)||r.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&r.fragmentSubject.next(i.fragment),Se(t.params,i.params)||r.paramsSubject.next(i.params),Wa(t.url,i.url)||r.urlSubject.next(i.url),Se(t.data,i.data)||r.dataSubject.next(i.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function hr(r,t){let i=Se(r.params,t.params)&&Qa(r.url,t.url),e=!r.parent!=!t.parent;return i&&!e&&(!r.parent||hr(r.parent,t.parent))}function Oo(r){return typeof r.title=="string"||r.title===null}var Sr=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=R,this.activateEvents=new fe,this.deactivateEvents=new fe,this.attachEvents=new fe,this.detachEvents=new fe,this.parentContexts=D(Xt),this.location=D(us),this.changeDetector=D(De),this.environmentInjector=D(Xe),this.inputBinder=D(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:s}=e.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=e;let s=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new pr(e,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Qe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]});let r=t;return r})(),pr=class r{__ngOutletInjector(t){return new r(this.route,this.childContexts,t)}constructor(t,i,e){this.route=t,this.childContexts=i,this.parent=e}get(t,i){return t===dt?this.route:t===Xt?this.childContexts:this.parent.get(t,i)}},Ui=new B(""),no=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,s=si([n.queryParams,n.params,n.data]).pipe(ye(([o,a,l],c)=>(l=M(M(M({},o),a),l),c===0?A(l):Promise.resolve(l)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let a=Ds(n.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of a.inputs)e.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(e,s)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})();function wl(r,t,i){let e=Kt(r,t._root,i?i._root:void 0);return new Li(e,t)}function Kt(r,t,i){if(i&&r.shouldReuseRoute(t.value,i.value.snapshot)){let e=i.value;e._futureSnapshot=t.value;let n=bl(r,t,i);return new le(e,n)}else{if(r.shouldAttach(t.value)){let s=r.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Kt(r,a)),o}}let e=Cl(t.value),n=t.children.map(s=>Kt(r,s));return new le(e,n)}}function bl(r,t,i){return t.children.map(e=>{for(let n of i.children)if(r.shouldReuseRoute(e.value,n.value.snapshot))return Kt(r,e,n);return Kt(r,e)})}function Cl(r){return new dt(new pe(r.url),new pe(r.params),new pe(r.queryParams),new pe(r.fragment),new pe(r.data),r.outlet,r.component,r)}var Mo="ngNavigationCancelingError";function xo(r,t){let{redirectTo:i,navigationBehaviorOptions:e}=ct(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=_o(!1,ce.Redirect);return n.url=i,n.navigationBehaviorOptions=e,n}function _o(r,t){let i=new Error(`NavigationCancelingError: ${r||""}`);return i[Mo]=!0,i.cancellationCode=t,i}function Sl(r){return Do(r)&&ct(r.url)}function Do(r){return!!r&&r[Mo]}var El=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fe({type:t,selectors:[["ng-component"]],standalone:!0,features:[bs],decls:1,vars:0,template:function(n,s){n&1&&$(0,"router-outlet")},dependencies:[Sr],encapsulation:2});let r=t;return r})();function Ol(r,t){return r.providers&&!r._injector&&(r._injector=Mn(r.providers,t,`Route: ${r.path}`)),r._injector??t}function Er(r){let t=r.children&&r.children.map(Er),i=t?Q(M({},r),{children:t}):M({},r);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==R&&(i.component=El),i}function Ee(r){return r.outlet||R}function Ml(r,t){let i=r.filter(e=>Ee(e)===t);return i.push(...r.filter(e=>Ee(e)!==t)),i}function Jt(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var xl=(r,t,i,e)=>U(n=>(new fr(t,n.targetRouterState,n.currentRouterState,i,e).activate(r),n)),fr=class{constructor(t,i,e,n,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=e,this.forwardEvent=n,this.inputBindingEnabled=s}activate(t){let i=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,e,t),Gn(this.futureState.root),this.activateChildRoutes(i,e,t)}deactivateChildRoutes(t,i,e){let n=st(i);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,n[o],e),delete n[o]}),Object.values(n).forEach(s=>{this.deactivateRouteAndItsChildren(s,e)})}deactivateRoutes(t,i,e){let n=t.value,s=i?i.value:null;if(n===s)if(n.component){let o=e.getContext(n.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,e);else s&&this.deactivateRouteAndItsChildren(i,e)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let e=i.getContext(t.value.outlet),n=e&&t.value.component?e.children:i,s=st(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,n);if(e&&e.outlet){let o=e.outlet.detach(),a=e.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let e=i.getContext(t.value.outlet),n=e&&t.value.component?e.children:i,s=st(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,n);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null)}activateChildRoutes(t,i,e){let n=st(i);t.children.forEach(s=>{this.activateRoutes(s,n[s.value.outlet],e),this.forwardEvent(new lr(s.value.snapshot))}),t.children.length&&this.forwardEvent(new or(t.value.snapshot))}activateRoutes(t,i,e){let n=t.value,s=i?i.value:null;if(Gn(n),n===s)if(n.component){let o=e.getOrCreateContext(n.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,e);else if(n.component){let o=e.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gn(a.route.value),this.activateChildRoutes(t,null,o.children)}else{let a=Jt(n.snapshot);o.attachRef=null,o.route=n,o.injector=a,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,e)}},Ti=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},at=class{constructor(t,i){this.component=t,this.route=i}};function _l(r,t,i){let e=r._root,n=t?t._root:null;return Nt(e,n,i,[e.value])}function Dl(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function pt(r,t){let i=Symbol(),e=t.get(r,i);return e===i?typeof r=="function"&&!Jr(r)?r:t.get(r):e}function Nt(r,t,i,e,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=st(t);return r.children.forEach(o=>{Al(o,s[o.value.outlet],i,e.concat([o.value]),n),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bt(a,i.getContext(o),n)),n}function Al(r,t,i,e,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=r.value,o=t?t.value:null,a=i?i.getContext(r.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Rl(o,s,s.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new Ti(e)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Nt(r,t,a?a.children:null,e,n):Nt(r,t,i,e,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new at(a.outlet.component,o))}else o&&Bt(t,a,n),n.canActivateChecks.push(new Ti(e)),s.component?Nt(r,null,a?a.children:null,e,n):Nt(r,null,i,e,n);return n}function Rl(r,t,i){if(typeof i=="function")return i(r,t);switch(i){case"pathParamsChange":return!qe(r.url,t.url);case"pathParamsOrQueryParamsChange":return!qe(r.url,t.url)||!Se(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(r,t)||!Se(r.queryParams,t.queryParams);case"paramsChange":default:return!hr(r,t)}}function Bt(r,t,i){let e=st(r),n=r.value;Object.entries(e).forEach(([s,o])=>{n.component?t?Bt(o,t.children.getContext(s),i):Bt(o,null,i):Bt(o,t,i)}),n.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new at(t.outlet.component,n)):i.canDeactivateChecks.push(new at(null,n)):i.canDeactivateChecks.push(new at(null,n))}function ei(r){return typeof r=="function"}function Il(r){return typeof r=="boolean"}function Ll(r){return r&&ei(r.canLoad)}function Pl(r){return r&&ei(r.canActivate)}function Tl(r){return r&&ei(r.canActivateChild)}function Vl(r){return r&&ei(r.canDeactivate)}function kl(r){return r&&ei(r.canMatch)}function Ao(r){return r instanceof Gr||r?.name==="EmptyError"}var Si=Symbol("INITIAL_VALUE");function ht(){return ye(r=>si(r.map(t=>t.pipe(Ze(1),Qr(Si)))).pipe(U(t=>{for(let i of t)if(i!==!0){if(i===Si)return Si;if(i===!1||i instanceof Ve)return i}return!0}),_e(t=>t!==Si),Ze(1)))}function Nl(r,t){return se(i=>{let{targetSnapshot:e,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?A(Q(M({},i),{guardsResult:!0})):Ul(o,e,n,r).pipe(se(a=>a&&Il(a)?jl(e,s,r,t):A(a)),U(a=>Q(M({},i),{guardsResult:a})))})}function Ul(r,t,i,e){return re(r).pipe(se(n=>ql(n.component,n.route,i,t,e)),Ie(n=>n!==!0,!0))}function jl(r,t,i,e){return re(t).pipe(Ye(n=>Wr(Bl(n.route.parent,e),Hl(n.route,e),$l(r,n.path,i),Fl(r,n.route,i))),Ie(n=>n!==!0,!0))}function Hl(r,t){return r!==null&&t&&t(new ar(r)),A(!0)}function Bl(r,t){return r!==null&&t&&t(new sr(r)),A(!0)}function Fl(r,t,i){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return A(!0);let n=e.map(s=>cn(()=>{let o=Jt(t)??i,a=pt(s,o),l=Pl(a)?a.canActivate(t,r):Pe(o,()=>a(t,r));return Ue(l).pipe(Ie())}));return A(n).pipe(ht())}function $l(r,t,i){let e=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>Dl(o)).filter(o=>o!==null).map(o=>cn(()=>{let a=o.guards.map(l=>{let c=Jt(o.node)??i,p=pt(l,c),b=Tl(p)?p.canActivateChild(e,r):Pe(c,()=>p(e,r));return Ue(b).pipe(Ie())});return A(a).pipe(ht())}));return A(s).pipe(ht())}function ql(r,t,i,e,n){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return A(!0);let o=s.map(a=>{let l=Jt(t)??n,c=pt(a,l),p=Vl(c)?c.canDeactivate(r,t,i,e):Pe(l,()=>c(r,t,i,e));return Ue(p).pipe(Ie())});return A(o).pipe(ht())}function zl(r,t,i,e){let n=t.canLoad;if(n===void 0||n.length===0)return A(!0);let s=n.map(o=>{let a=pt(o,r),l=Ll(a)?a.canLoad(t,i):Pe(r,()=>a(t,i));return Ue(l)});return A(s).pipe(ht(),Ro(e))}function Ro(r){return qr(z(t=>{if(ct(t))throw xo(r,t)}),U(t=>t===!0))}function Gl(r,t,i,e){let n=t.canMatch;if(!n||n.length===0)return A(!0);let s=n.map(o=>{let a=pt(o,r),l=kl(a)?a.canMatch(t,i):Pe(r,()=>a(t,i));return Ue(l)});return A(s).pipe(ht(),Ro(e))}var Yt=class{constructor(t){this.segmentGroup=t||null}},Vi=class extends Error{constructor(t){super(),this.urlTree=t}};function rt(r){return Mt(new Yt(r))}function Wl(r){return Mt(new H(4e3,!1))}function Kl(r){return Mt(_o(!1,ce.GuardRejected))}var gr=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let e=[],n=i.root;for(;;){if(e=e.concat(n.segments),n.numberOfChildren===0)return A(e);if(n.numberOfChildren>1||!n.children[R])return Wl(t.redirectTo);n=n.children[R]}}applyRedirectCommands(t,i,e){let n=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,e);if(i.startsWith("/"))throw new Vi(n);return n}applyRedirectCreateUrlTree(t,i,e,n){let s=this.createSegmentGroup(t,i.root,e,n);return new Ve(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let e={};return Object.entries(t).forEach(([n,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);e[n]=i[a]}else e[n]=s}),e}createSegmentGroup(t,i,e,n){let s=this.createSegments(t,i.segments,e,n),o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,e,n)}),new V(s,o)}createSegments(t,i,e,n){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,n):this.findOrReturn(s,e))}findPosParam(t,i,e){let n=e[i.path.substring(1)];if(!n)throw new H(4001,!1);return n}findOrReturn(t,i){let e=0;for(let n of i){if(n.path===t.path)return i.splice(e),n;e++}return t}},mr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yl(r,t,i,e,n){let s=Or(r,t,i);return s.matched?(e=Ol(t,e),Gl(e,t,i,n).pipe(U(o=>o===!0?s:M({},mr)))):A(s)}function Or(r,t,i){if(t.path==="**")return Zl(i);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||i.length>0)?M({},mr):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let n=(t.matcher||Ga)(i,r,t);if(!n)return M({},mr);let s={};Object.entries(n.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=n.consumed.length>0?M(M({},s),n.consumed[n.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:n.consumed,remainingSegments:i.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function Zl(r){return{matched:!0,parameters:r.length>0?lo(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function ro(r,t,i,e){return i.length>0&&Jl(r,i,e)?{segmentGroup:new V(t,Xl(e,new V(i,r.children))),slicedSegments:[]}:i.length===0&&ec(r,i,e)?{segmentGroup:new V(r.segments,Ql(r,i,e,r.children)),slicedSegments:i}:{segmentGroup:new V(r.segments,r.children),slicedSegments:i}}function Ql(r,t,i,e){let n={};for(let s of i)if(ji(r,t,s)&&!e[Ee(s)]){let o=new V([],{});n[Ee(s)]=o}return M(M({},e),n)}function Xl(r,t){let i={};i[R]=t;for(let e of r)if(e.path===""&&Ee(e)!==R){let n=new V([],{});i[Ee(e)]=n}return i}function Jl(r,t,i){return i.some(e=>ji(r,t,e)&&Ee(e)!==R)}function ec(r,t,i){return i.some(e=>ji(r,t,e))}function ji(r,t,i){return(r.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function tc(r,t,i,e){return Ee(r)!==e&&(e===R||!ji(t,i,r))?!1:Or(t,r,i).matched}function ic(r,t,i){return t.length===0&&!r.children[i]}var vr=class{};function nc(r,t,i,e,n,s,o="emptyOnly"){return new yr(r,t,i,e,n,o,s).recognize()}var rc=31,yr=class{constructor(t,i,e,n,s,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=e,this.config=n,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new gr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new H(4002,`'${t.segmentGroup}'`)}recognize(){let t=ro(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(U(i=>{let e=new Wt([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},R,this.rootComponentType,null,{}),n=new le(e,i),s=new Pi("",n),o=dl(e,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,R).pipe(Ke(e=>{if(e instanceof Vi)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof Yt?this.noMatchError(e):e}))}inheritParamsAndData(t,i){let e=t.value,n=br(e,i,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(s=>this.inheritParamsAndData(s,e))}processSegmentGroup(t,i,e,n){return e.segments.length===0&&e.hasChildren()?this.processChildren(t,i,e):this.processSegment(t,i,e,e.segments,n,!0).pipe(U(s=>s instanceof le?[s]:[]))}processChildren(t,i,e){let n=[];for(let s of Object.keys(e.children))s==="primary"?n.unshift(s):n.push(s);return re(n).pipe(Ye(s=>{let o=e.children[s],a=Ml(i,s);return this.processSegmentGroup(t,a,o,s)}),Zr((s,o)=>(s.push(...o),s)),un(null),Yr(),se(s=>{if(s===null)return rt(e);let o=Io(s);return sc(o),A(o)}))}processSegment(t,i,e,n,s,o){return re(i).pipe(Ye(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,e,n,s,o).pipe(Ke(l=>{if(l instanceof Yt)return A(null);throw l}))),Ie(a=>!!a),Ke(a=>{if(Ao(a))return ic(e,n,s)?A(new vr):rt(e);throw a}))}processSegmentAgainstRoute(t,i,e,n,s,o,a){return tc(e,n,s,o)?e.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,e,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,e,s,o):rt(n):rt(n)}expandSegmentAgainstRouteUsingRedirect(t,i,e,n,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:p}=Or(i,n,s);if(!a)return rt(i);n.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rc&&(this.allowRedirects=!1));let b=this.applyRedirects.applyRedirectCommands(l,n.redirectTo,c);return this.applyRedirects.lineralizeSegments(n,b).pipe(se(O=>this.processSegment(t,e,i,O.concat(p),o,!1)))}matchSegmentAgainstRoute(t,i,e,n,s){let o=Yl(i,e,n,t,this.urlSerializer);return e.path==="**"&&(i.children={}),o.pipe(ye(a=>a.matched?(t=e._injector??t,this.getChildConfig(t,e,n).pipe(ye(({routes:l})=>{let c=e._loadedInjector??t,{consumedSegments:p,remainingSegments:b,parameters:O}=a,L=new Wt(p,O,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,ac(e),Ee(e),e.component??e._loadedComponent??null,e,lc(e)),{segmentGroup:He,slicedSegments:xe}=ro(i,p,b,l);if(xe.length===0&&He.hasChildren())return this.processChildren(c,l,He).pipe(U(ve=>ve===null?null:new le(L,ve)));if(l.length===0&&xe.length===0)return A(new le(L,[]));let bt=Ee(e)===s;return this.processSegment(c,l,He,xe,bt?R:s,!0).pipe(U(ve=>new le(L,ve instanceof le?[ve]:[])))}))):rt(i)))}getChildConfig(t,i,e){return i.children?A({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?A({routes:i._loadedRoutes,injector:i._loadedInjector}):zl(t,i,e,this.urlSerializer).pipe(se(n=>n?this.configLoader.loadChildren(t,i).pipe(z(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):Kl(i))):A({routes:[],injector:t})}};function sc(r){r.sort((t,i)=>t.value.outlet===R?-1:i.value.outlet===R?1:t.value.outlet.localeCompare(i.value.outlet))}function oc(r){let t=r.value.routeConfig;return t&&t.path===""}function Io(r){let t=[],i=new Set;for(let e of r){if(!oc(e)){t.push(e);continue}let n=t.find(s=>e.value.routeConfig===s.value.routeConfig);n!==void 0?(n.children.push(...e.children),i.add(n)):t.push(e)}for(let e of i){let n=Io(e.children);t.push(new le(e.value,n))}return t.filter(e=>!i.has(e))}function ac(r){return r.data||{}}function lc(r){return r.resolve||{}}function cc(r,t,i,e,n,s){return se(o=>nc(r,t,i,e,o.extractedUrl,n,s).pipe(U(({state:a,tree:l})=>Q(M({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function uc(r,t){return se(i=>{let{targetSnapshot:e,guards:{canActivateChecks:n}}=i;if(!n.length)return A(i);let s=new Set(n.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Lo(l))o.add(c);let a=0;return re(o).pipe(Ye(l=>s.has(l)?dc(l,e,r,t):(l.data=br(l,l.parent,r).resolve,A(void 0))),z(()=>a++),hn(1),se(l=>a===o.size?A(i):Re))})}function Lo(r){let t=r.children.map(i=>Lo(i)).flat();return[r,...t]}function dc(r,t,i,e){let n=r.routeConfig,s=r._resolve;return n?.title!==void 0&&!Oo(n)&&(s[Zt]=n.title),hc(s,r,t,e).pipe(U(o=>(r._resolvedData=o,r.data=br(r,r.parent,i).resolve,null)))}function hc(r,t,i,e){let n=Yn(r);if(n.length===0)return A({});let s={};return re(n).pipe(se(o=>pc(r[o],t,i,e).pipe(Ie(),z(a=>{s[o]=a}))),hn(1),Kr(s),Ke(o=>Ao(o)?Re:Mt(o)))}function pc(r,t,i,e){let n=Jt(t)??e,s=pt(r,n),o=s.resolve?s.resolve(t,i):Pe(n,()=>s(t,i));return Ue(o)}function Wn(r){return ye(t=>{let i=r(t);return i?re(i).pipe(U(()=>t)):A(t)})}var Po=(()=>{let t=class t{buildTitle(e){let n,s=e.root;for(;s!==void 0;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(o=>o.outlet===R);return n}getResolvedTitleForRoute(e){return e.data[Zt]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:()=>D(fc),providedIn:"root"});let r=t;return r})(),fc=(()=>{let t=class t extends Po{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}};t.\u0275fac=function(n){return new(n||t)(N(Qs))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),ti=new B("",{providedIn:"root",factory:()=>({})}),ki=new B(""),Mr=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(gi)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return A(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Ue(e.loadComponent()).pipe(U(To),z(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),oi(()=>{this.componentLoaders.delete(e)})),s=new an(n,()=>new he).pipe(on());return this.componentLoaders.set(e,s),s}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return A({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=gc(n,this.compiler,e,this.onLoadEndListener).pipe(oi(()=>{this.childrenLoaders.delete(n)})),a=new an(o,()=>new he).pipe(on());return this.childrenLoaders.set(n,a),a}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function gc(r,t,i,e){return Ue(r.loadChildren()).pipe(U(To),se(n=>n instanceof ds||Array.isArray(n)?A(n):re(t.compileModuleAsync(n))),U(n=>{e&&e(r);let s,o,a=!1;return Array.isArray(n)?(o=n,a=!0):(s=n.create(i).injector,o=s.get(ki,[],{optional:!0,self:!0}).flat()),{routes:o.map(Er),injector:s}}))}function mc(r){return r&&typeof r=="object"&&"default"in r}function To(r){return mc(r)?r.default:r}var xr=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:()=>D(vc),providedIn:"root"});let r=t;return r})(),vc=(()=>{let t=class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Vo=new B(""),ko=new B("");function yc(r,t,i){let e=r.get(ko),n=r.get(ae);return r.get(J).runOutsideAngular(()=>{if(!n.startViewTransition||e.skipNextTransition)return e.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=n.startViewTransition(()=>(s(),wc(r))),{onViewTransitionCreated:l}=e;return l&&Pe(r,()=>l({transition:a,from:t,to:i})),o})}function wc(r){return new Promise(t=>{En(t,{injector:r})})}var _r=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=D(Mr),this.environmentInjector=D(Xe),this.urlSerializer=D(Qt),this.rootContexts=D(Xt),this.location=D(It),this.inputBindingEnabled=D(Ui,{optional:!0})!==null,this.titleStrategy=D(Po),this.options=D(ti,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(xr),this.createViewTransition=D(Vo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let e=s=>this.events.next(new nr(s)),n=s=>this.events.next(new rr(s));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Q(M(M({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,s){return this.transitions=new pe({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ht,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_e(o=>o.id!==0),U(o=>Q(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ye(o=>{let a=!1,l=!1;return A(o).pipe(ye(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ce.SupersededByNewNavigation),Re;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Q(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!p&&b!=="reload"){let O="";return this.events.next(new Ne(c.id,this.urlSerializer.serialize(c.rawUrl),O,Di.IgnoredSameUrlNavigation)),c.resolve(null),Re}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return A(c).pipe(ye(O=>{let L=this.transitions?.getValue();return this.events.next(new ut(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),L!==this.transitions?.getValue()?Re:Promise.resolve(O)}),cc(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),z(O=>{o.targetSnapshot=O.targetSnapshot,o.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation=Q(M({},this.currentNavigation),{finalUrl:O.urlAfterRedirects});let L=new Ai(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(L)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:O,extractedUrl:L,source:He,restoredState:xe,extras:bt}=c,ve=new ut(O,this.urlSerializer.serialize(L),He,xe);this.events.next(ve);let Yi=So(this.rootComponentType).snapshot;return this.currentTransition=o=Q(M({},c),{targetSnapshot:Yi,urlAfterRedirects:L,extras:Q(M({},bt),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=L,A(o)}else{let O="";return this.events.next(new Ne(c.id,this.urlSerializer.serialize(c.extractedUrl),O,Di.IgnoredByUrlHandlingStrategy)),c.resolve(null),Re}}),z(c=>{let p=new Jn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),U(c=>(this.currentTransition=o=Q(M({},c),{guards:_l(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Nl(this.environmentInjector,c=>this.events.next(c)),z(c=>{if(o.guardsResult=c.guardsResult,ct(c.guardsResult))throw xo(this.urlSerializer,c.guardsResult);let p=new er(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),_e(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ce.GuardRejected),!1)),Wn(c=>{if(c.guards.canActivateChecks.length)return A(c).pipe(z(p=>{let b=new tr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}),ye(p=>{let b=!1;return A(p).pipe(uc(this.paramsInheritanceStrategy,this.environmentInjector),z({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(p,"",ce.NoDataFromResolver)}}))}),z(p=>{let b=new ir(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(b)}))}),Wn(c=>{let p=b=>{let O=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(b.routeConfig).pipe(z(L=>{b.component=L}),U(()=>{})));for(let L of b.children)O.push(...p(L));return O};return si(p(c.targetSnapshot.root)).pipe(un(null),Ze(1))}),Wn(()=>this.afterPreactivation()),ye(()=>{let{currentSnapshot:c,targetSnapshot:p}=o,b=this.createViewTransition?.(this.environmentInjector,c.root,p.root);return b?re(b).pipe(U(()=>o)):A(o)}),U(c=>{let p=wl(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Q(M({},c),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,o}),z(()=>{this.events.next(new zt)}),xl(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ze(1),z({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Xr(this.transitionAbortSubject.pipe(z(c=>{throw c}))),oi(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",ce.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ke(c=>{if(l=!0,Do(c))this.events.next(new ke(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Sl(c)?this.events.next(new Gt(c.url)):o.resolve(!1);else{this.events.next(new qt(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Re}))}))}cancelNavigationTransition(e,n,s){let o=new ke(e.id,this.urlSerializer.serialize(e.extractedUrl),n,s);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function bc(r){return r!==Ht}var Cc=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:()=>D(Sc),providedIn:"root"});let r=t;return r})(),wr=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},Sc=(()=>{let t=class t extends wr{};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=wn(t)))(s||t)}})(),t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),No=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:()=>D(Ec),providedIn:"root"});let r=t;return r})(),Ec=(()=>{let t=class t extends No{constructor(){super(...arguments),this.location=D(It),this.urlSerializer=D(Qt),this.options=D(ti,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=So(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof ut)this.stateMemento=this.createStateMemento();else if(e instanceof Ne)this.rawUrlTree=n.initialUrl;else if(e instanceof Ai){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(s,n)}}else e instanceof zt?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof ke&&(e.code===ce.GuardRejected||e.code===ce.NoDataFromResolver)?this.restoreHistory(n):e instanceof qt?this.restoreHistory(n,!0):e instanceof Ae&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let s=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){let o=this.browserPageId,a=M(M({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(s,"",a)}else{let o=M(M({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}};t.\u0275fac=(()=>{let e;return function(s){return(e||(e=wn(t)))(s||t)}})(),t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Ut=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Ut||{});function Uo(r,t){r.events.pipe(_e(i=>i instanceof Ae||i instanceof ke||i instanceof qt||i instanceof Ne),U(i=>i instanceof Ae||i instanceof Ne?Ut.COMPLETE:(i instanceof ke?i.code===ce.Redirect||i.code===ce.SupersededByNewNavigation:!1)?Ut.REDIRECTING:Ut.FAILED),_e(i=>i!==Ut.REDIRECTING),Ze(1)).subscribe(()=>{t()})}function Oc(r){throw r}var Mc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ze=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(hi),this.stateManager=D(No),this.options=D(ti,{optional:!0})||{},this.pendingTasks=D(hs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(_r),this.urlSerializer=D(Qt),this.location=D(It),this.urlHandlingStrategy=D(xr),this._events=new he,this.errorHandler=this.options.errorHandler||Oc,this.navigated=!1,this.routeReuseStrategy=D(Cc),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(ki,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Ui,{optional:!0}),this.eventsSubscription=new $r,this.isNgZoneEnabled=D(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof ke&&n.code!==ce.Redirect&&n.code!==ce.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ae)this.navigated=!0;else if(n instanceof Gt){let a=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bc(s.source)};this.scheduleNavigation(a,Ht,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Dc(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ht,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=M({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Er),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=n,p=c?this.currentUrlTree.fragment:a,b=null;switch(l){case"merge":b=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}b!==null&&(b=this.removeEmptyProps(b));let O;try{let L=s?s.snapshot:this.routerState.snapshot.root;O=yo(L)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),O=this.currentUrlTree.root}return wo(O,e,b,p??null)}navigateByUrl(e,n={skipLocationChange:!1}){let s=ct(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ht,null,n)}navigate(e,n={skipLocationChange:!1}){return _c(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let s;if(n===!0?s=M({},Mc):n===!1?s=M({},xc):s=n,ct(e))return Js(this.currentUrlTree,e,s);let o=this.parseUrl(e);return Js(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.entries(e).reduce((n,[s,o])=>(o!=null&&(n[s]=o),n),{})}scheduleNavigation(e,n,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,p;a?(l=a.resolve,c=a.reject,p=a.promise):p=new Promise((O,L)=>{l=O,c=L});let b=this.pendingTasks.add();return Uo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:c,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(O=>Promise.reject(O))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function _c(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new H(4008,!1)}function Dc(r){return!(r instanceof zt)&&!(r instanceof Gt)}var Ni=class{};var Ac=(()=>{let t=class t{constructor(e,n,s,o,a){this.router=e,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(_e(e=>e instanceof Ae),Ye(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let s=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Mn(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return re(s).pipe(ln())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let s;n.loadChildren&&n.canLoad===void 0?s=this.loader.loadChildren(e,n):s=A(null);let o=s.pipe(se(a=>a===null?A(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(n.loadComponent&&!n._loadedComponent){let a=this.loader.loadComponent(n);return re([o,a]).pipe(ln())}else return o})}};t.\u0275fac=function(n){return new(n||t)(N(ze),N(gi),N(Xe),N(Ni),N(Mr))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),jo=new B(""),Rc=(()=>{let t=class t{constructor(e,n,s,o,a={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=D(Xe),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ut?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ae?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ne&&e.code===Di.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ri&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>Be(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),En(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ri(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(n){ui()},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})();function Ic(r){return r.routerState.root}function ii(r,t){return{\u0275kind:r,\u0275providers:t}}function Lc(){let r=D(bn);return t=>{let i=r.get(Pn);if(t!==i.components[0])return;let e=r.get(ze),n=r.get(Ho);r.get(Dr)===1&&e.initialNavigation(),r.get(Bo,null,gn.Optional)?.setUpPreloading(),r.get(jo,null,gn.Optional)?.init(),e.resetRootComponentType(i.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Ho=new B("",{factory:()=>new he}),Dr=new B("",{providedIn:"root",factory:()=>1});function Pc(){return ii(2,[{provide:Dr,useValue:0},{provide:Ln,multi:!0,deps:[bn],useFactory:t=>{let i=t.get(Is,Promise.resolve());return()=>i.then(()=>new Promise(e=>{let n=t.get(ze),s=t.get(Ho);Uo(n,()=>{e(!0)}),t.get(_r).afterPreactivation=()=>(e(!0),s.closed?A(void 0):s),n.initialNavigation()}))}}])}function Tc(){return ii(3,[{provide:Ln,multi:!0,useFactory:()=>{let t=D(ze);return()=>{t.setUpLocationChangeListener()}}},{provide:Dr,useValue:2}])}var Bo=new B("");function Vc(r){return ii(0,[{provide:Bo,useExisting:Ac},{provide:Ni,useExisting:r}])}function kc(){return ii(8,[no,{provide:Ui,useExisting:no}])}function Nc(r){let t=[{provide:Vo,useValue:yc},{provide:ko,useValue:M({skipNextTransition:!!r?.skipInitialTransition},r)}];return ii(9,t)}var so=new B("ROUTER_FORROOT_GUARD"),Uc=[It,{provide:Qt,useClass:Ft},ze,Xt,{provide:dt,useFactory:Ic,deps:[ze]},Mr,[]],Ar=(()=>{let t=class t{constructor(e){}static forRoot(e,n){return{ngModule:t,providers:[Uc,[],{provide:ki,multi:!0,useValue:e},{provide:so,useFactory:Fc,deps:[[ze,new mn,new es]]},{provide:ti,useValue:n||{}},n?.useHash?Hc():Bc(),jc(),n?.preloadingStrategy?Vc(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?$c(n):[],n?.bindToComponentInputs?kc().\u0275providers:[],n?.enableViewTransitions?Nc().\u0275providers:[],qc()]}}static forChild(e){return{ngModule:t,providers:[{provide:ki,multi:!0,useValue:e}]}}};t.\u0275fac=function(n){return new(n||t)(N(so,8))},t.\u0275mod=Ce({type:t}),t.\u0275inj=be({});let r=t;return r})();function jc(){return{provide:jo,useFactory:()=>{let r=D(Hs),t=D(J),i=D(ti),e=D(_r),n=D(Qt);return i.scrollOffset&&r.setOffset(i.scrollOffset),new Rc(n,e,r,t,i)}}}function Hc(){return{provide:Tn,useClass:Ps}}function Bc(){return{provide:Tn,useClass:Ls}}function Fc(r){return"guarded"}function $c(r){return[r.initialNavigation==="disabled"?Tc().\u0275providers:[],r.initialNavigation==="enabledBlocking"?Pc().\u0275providers:[]]}var oo=new B("");function qc(){return[{provide:oo,useFactory:Lc},{provide:Os,multi:!0,useExisting:oo}]}var Gc=[],Fo=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t}),t.\u0275inj=be({imports:[Ar.forRoot(Gc),Ar]});let r=t;return r})();function ft(r,t,i,e){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(p){try{c(e.next(p))}catch(b){o(b)}}function l(p){try{c(e.throw(p))}catch(b){o(b)}}function c(p){p.done?s(p.value):n(p.value).then(a,l)}c((e=e.apply(r,t||[])).next())})}function Wc(r,t,i,e){if(i==="a"&&!e)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!e:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?e:i==="a"?e.call(r):e?e.value:t.get(r)}var $o=(()=>{class r{constructor(i){this.client=i}static flatten(i,e=""){let n={};for(let[s,o]of Object.entries(i)){let a=e?e+"["+s+"]":s;Array.isArray(o)?n=Object.assign(Object.assign({},n),r.flatten(o,a)):n[a]=o}return n}}return r.CHUNK_SIZE=5*1024*1024,r})(),Fi=(()=>{class r{constructor(i,e,n){this.method=i,this.attribute=e,n!==void 0&&(Array.isArray(n)?this.values=n:this.values=[n])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}return r.equal=(t,i)=>new r("equal",t,i).toString(),r.notEqual=(t,i)=>new r("notEqual",t,i).toString(),r.lessThan=(t,i)=>new r("lessThan",t,i).toString(),r.lessThanEqual=(t,i)=>new r("lessThanEqual",t,i).toString(),r.greaterThan=(t,i)=>new r("greaterThan",t,i).toString(),r.greaterThanEqual=(t,i)=>new r("greaterThanEqual",t,i).toString(),r.isNull=t=>new r("isNull",t).toString(),r.isNotNull=t=>new r("isNotNull",t).toString(),r.between=(t,i,e)=>new r("between",t,[i,e]).toString(),r.startsWith=(t,i)=>new r("startsWith",t,i).toString(),r.endsWith=(t,i)=>new r("endsWith",t,i).toString(),r.select=t=>new r("select",void 0,t).toString(),r.search=(t,i)=>new r("search",t,i).toString(),r.orderDesc=t=>new r("orderDesc",t).toString(),r.orderAsc=t=>new r("orderAsc",t).toString(),r.cursorAfter=t=>new r("cursorAfter",void 0,t).toString(),r.cursorBefore=t=>new r("cursorBefore",void 0,t).toString(),r.limit=t=>new r("limit",void 0,t).toString(),r.offset=t=>new r("offset",void 0,t).toString(),r.contains=(t,i)=>new r("contains",t,i).toString(),r.or=t=>new r("or",void 0,t.map(i=>JSON.parse(i))).toString(),r.and=t=>new r("and",void 0,t.map(i=>JSON.parse(i))).toString(),r})(),q=class extends Error{constructor(t,i=0,e="",n=""){super(t),this.name="AppwriteException",this.message=t,this.code=i,this.type=e,this.response=n}},Hi=class{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"15.0.0","X-Appwrite-Response-Format":"1.5.0"},this.realtime={socket:void 0,timeout:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createSocket:()=>{var t,i,e;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(t=this.realtime.socket)===null||t===void 0||t.close();return}let n=new URLSearchParams;n.set("project",this.config.project),this.realtime.channels.forEach(o=>{n.append("channels[]",o)});let s=this.config.endpointRealtime+"/realtime?"+n.toString();(s!==this.realtime.url||!this.realtime.socket||((i=this.realtime.socket)===null||i===void 0?void 0:i.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((e=this.realtime.socket)===null||e===void 0?void 0:e.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0}),this.realtime.socket.addEventListener("close",o=>{var a,l,c;if(!this.realtime.reconnect||((l=(a=this.realtime)===null||a===void 0?void 0:a.lastMessage)===null||l===void 0?void 0:l.type)==="error"&&((c=this.realtime)===null||c===void 0?void 0:c.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}let p=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${p/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},p)}))},onMessage:t=>{var i,e;try{let n=JSON.parse(t.data);switch(this.realtime.lastMessage=n,n.type){case"connected":let s=JSON.parse((i=window.localStorage.getItem("cookieFallback"))!==null&&i!==void 0?i:"{}"),o=s?.[`a_session_${this.config.project}`],a=n.data;o&&!a.user&&((e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"authentication",data:{session:o}})));break;case"event":let l=n.data;if(l?.channels){if(!l.channels.some(p=>this.realtime.channels.has(p)))return;this.realtime.subscriptions.forEach(p=>{l.channels.some(b=>p.channels.includes(b))&&setTimeout(()=>p.callback(l))})}break;case"error":throw n.data;default:break}}catch(n){console.error(n)}},cleanUp:t=>{this.realtime.channels.forEach(i=>{t.includes(i)&&(Array.from(this.realtime.subscriptions).some(([n,s])=>s.channels.includes(i))||this.realtime.channels.delete(i))})}}}setEndpoint(t){return this.config.endpoint=t,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(t){return this.config.endpointRealtime=t,this}setProject(t){return this.headers["X-Appwrite-Project"]=t,this.config.project=t,this}setJWT(t){return this.headers["X-Appwrite-JWT"]=t,this.config.jwt=t,this}setLocale(t){return this.headers["X-Appwrite-Locale"]=t,this.config.locale=t,this}setSession(t){return this.headers["X-Appwrite-Session"]=t,this.config.session=t,this}subscribe(t,i){let e=typeof t=="string"?[t]:t;e.forEach(s=>this.realtime.channels.add(s));let n=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(n,{channels:e,callback:i}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(n),this.realtime.cleanUp(e),this.realtime.connect()}}call(t,i,e={},n={}){var s;return ft(this,void 0,void 0,function*(){t=t.toUpperCase(),e=Object.assign({},this.headers,e);let o={method:t,headers:e,credentials:"include"};if(typeof window<"u"&&window.localStorage){let a=window.localStorage.getItem("cookieFallback");a&&(e["X-Fallback-Cookies"]=a)}if(t==="GET")for(let[a,l]of Object.entries($o.flatten(n)))i.searchParams.append(a,l);else switch(e["content-type"]){case"application/json":o.body=JSON.stringify(n);break;case"multipart/form-data":let a=new FormData;for(let l in n)Array.isArray(n[l])?n[l].forEach(c=>{a.append(l+"[]",c)}):a.append(l,n[l]);o.body=a,delete e["content-type"];break}try{let a=null,l=yield fetch(i.toString(),o);if(!((s=l.headers.get("content-type"))===null||s===void 0)&&s.includes("application/json")?a=yield l.json():a={message:yield l.text()},400<=l.status)throw new q(a?.message,l.status,a?.type,a);let c=l.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&c&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",c)),a}catch(a){throw a instanceof q?a:new q(a.message)}})}};var Bi=class extends $o{constructor(t){super(t)}listDocuments(t,i,e){return ft(this,void 0,void 0,function*(){if(typeof t>"u")throw new q('Missing required parameter: "databaseId"');if(typeof i>"u")throw new q('Missing required parameter: "collectionId"');let n="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",i),s={};typeof e<"u"&&(s.queries=e);let o=new URL(this.client.config.endpoint+n);return yield this.client.call("get",o,{"content-type":"application/json"},s)})}createDocument(t,i,e,n,s){return ft(this,void 0,void 0,function*(){if(typeof t>"u")throw new q('Missing required parameter: "databaseId"');if(typeof i>"u")throw new q('Missing required parameter: "collectionId"');if(typeof e>"u")throw new q('Missing required parameter: "documentId"');if(typeof n>"u")throw new q('Missing required parameter: "data"');let o="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",t).replace("{collectionId}",i),a={};typeof e<"u"&&(a.documentId=e),typeof n<"u"&&(a.data=n),typeof s<"u"&&(a.permissions=s);let l=new URL(this.client.config.endpoint+o);return yield this.client.call("post",l,{"content-type":"application/json"},a)})}getDocument(t,i,e,n){return ft(this,void 0,void 0,function*(){if(typeof t>"u")throw new q('Missing required parameter: "databaseId"');if(typeof i>"u")throw new q('Missing required parameter: "collectionId"');if(typeof e>"u")throw new q('Missing required parameter: "documentId"');let s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",i).replace("{documentId}",e),o={};typeof n<"u"&&(o.queries=n);let a=new URL(this.client.config.endpoint+s);return yield this.client.call("get",a,{"content-type":"application/json"},o)})}updateDocument(t,i,e,n,s){return ft(this,void 0,void 0,function*(){if(typeof t>"u")throw new q('Missing required parameter: "databaseId"');if(typeof i>"u")throw new q('Missing required parameter: "collectionId"');if(typeof e>"u")throw new q('Missing required parameter: "documentId"');let o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",i).replace("{documentId}",e),a={};typeof n<"u"&&(a.data=n),typeof s<"u"&&(a.permissions=s);let l=new URL(this.client.config.endpoint+o);return yield this.client.call("patch",l,{"content-type":"application/json"},a)})}deleteDocument(t,i,e){return ft(this,void 0,void 0,function*(){if(typeof t>"u")throw new q('Missing required parameter: "databaseId"');if(typeof i>"u")throw new q('Missing required parameter: "collectionId"');if(typeof e>"u")throw new q('Missing required parameter: "documentId"');let n="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",t).replace("{collectionId}",i).replace("{documentId}",e),s={},o=new URL(this.client.config.endpoint+n);return yield this.client.call("delete",o,{"content-type":"application/json"},s)})}};var qo,zo,Rr=class r{static custom(t){return t}static unique(t=7){let i=Wc(r,qo,"m",zo).call(r),e="";for(let n=0;n<t;n++){let s=Math.floor(Math.random()*16).toString(16);e+=s}return i+e}};qo=Rr,zo=function(){let t=new Date,i=Math.floor(t.getTime()/1e3),e=t.getMilliseconds();return i.toString(16)+e.toString(16).padStart(5,"0")};var gt=class{constructor(t,i,e,n,s){this.x=t,this.y=i,this.color=e,this.placedBy=n,this.timestamp=s}};var Ge=class{constructor(t,i,e){this.x=t,this.y=i,this.color=e}};var Jo=Ea(Go());var we={production:!0,endpointUrl:"https://cloud.appwrite.io/v1",projectId:"66b7a92b0015300fdc17",databaseId:"66b7a95f0022a9b7704b",collectionId:"66b7b0d2000834bbb81c"};var Wo=new B("");var Kc={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Hd=Q(M({},Kc),{"[class.ng-submitted]":"isSubmitted"});var ue=typeof window<"u"?window:{screen:{},navigator:{}},mt=(ue.matchMedia||function(){return{matches:!1}}).bind(ue),Ko=!1,Yc={get passive(){return Ko=!0}},Yo=function(){};ue.addEventListener&&ue.addEventListener("p",Yo,Yc);ue.removeEventListener&&ue.removeEventListener("p",Yo,!1);var qi=Ko,$d="PointerEvent"in ue,Lr="ontouchstart"in ue,Zc="TouchEvent"in ue,Qc=Lr||Zc&&mt("(any-pointer: coarse)").matches,qd=(ue.navigator.maxTouchPoints||0)>0||Qc,Zo=ue.navigator.userAgent||"",Xc=mt("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Zo)&&Math.min(ue.screen.width||0,ue.screen.height||0)>=768,zd=(mt("(pointer: coarse)").matches||!mt("(pointer: fine)").matches&&Lr)&&!/Windows.*Firefox/.test(Zo),Gd=mt("(any-pointer: fine)").matches||mt("(any-hover: hover)").matches||Xc||!Lr;var eu=(r,t,i)=>({tooltip:r,placement:t,content:i});function tu(r,t){}function iu(r,t){r&1&&Te(0,tu,0,0,"ng-template")}function nu(r,t){if(r&1&&(_n(0),Te(1,iu,1,0,null,1),Dn()),r&2){let i=ge();G(),F("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Ss(2,eu,i.tooltip,i.placement,i.content))}}function ru(r,t){if(r&1&&(_n(0),K(1,"div",2),Rt(2),ee(),Dn()),r&2){let i=ge();G(),At("title",i.tooltip)("data-tooltip-placement",i.placement),G(),gs(" ",i.content," ")}}var su=["tooltipTemplate"],ou=["leftOuterSelectionBar"],au=["rightOuterSelectionBar"],lu=["fullBar"],cu=["selectionBar"],uu=["minHandle"],du=["maxHandle"],hu=["floorLabel"],pu=["ceilLabel"],fu=["minHandleLabel"],gu=["maxHandleLabel"],mu=["combinedLabel"],vu=["ticksElement"],yu=r=>({"ngx-slider-selected":r});function wu(r,t){if(r&1&&$(0,"ngx-slider-tooltip-wrapper",32),r&2){let i=ge().$implicit,e=ge();F("template",e.tooltipTemplate)("tooltip",i.valueTooltip)("placement",i.valueTooltipPlacement)("content",i.value)}}function bu(r,t){if(r&1&&$(0,"span",33),r&2){let i=ge().$implicit;F("innerText",i.legend)}}function Cu(r,t){if(r&1&&$(0,"span",34),r&2){let i=ge().$implicit;F("innerHTML",i.legend,ss)}}function Su(r,t){if(r&1&&(K(0,"span",27),$(1,"ngx-slider-tooltip-wrapper",28),Te(2,wu,1,4,"ngx-slider-tooltip-wrapper",29)(3,bu,1,1,"span",30)(4,Cu,1,1,"span",31),ee()),r&2){let i=t.$implicit,e=ge();F("ngClass",Cs(8,yu,i.selected))("ngStyle",i.style),G(),F("template",e.tooltipTemplate)("tooltip",i.tooltip)("placement",i.tooltipPlacement),G(),F("ngIf",i.value!==null&&i.value!==void 0),G(),F("ngIf",i.legend!==null&&i.legend!==void 0&&e.allowUnsafeHtmlInSlider===!1),G(),F("ngIf",i.legend!==null&&i.legend!==void 0&&(e.allowUnsafeHtmlInSlider===null||e.allowUnsafeHtmlInSlider===void 0||e.allowUnsafeHtmlInSlider))}}var Oe=function(r){return r[r.Low=0]="Low",r[r.High=1]="High",r[r.Floor=2]="Floor",r[r.Ceil=3]="Ceil",r[r.TickValue=4]="TickValue",r}(Oe||{}),yt=class{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1},Qo=new B("AllowUnsafeHtmlInSlider"),E=function(r){return r[r.Min=0]="Min",r[r.Max=1]="Max",r}(E||{}),Tr=class{value;highValue;pointerType},m=class{static isNullOrUndefined(t){return t==null}static areArraysEqual(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(t[e]!==i[e])return!1;return!0}static linearValueToPosition(t,i,e){let n=e-i;return(t-i)/n}static logValueToPosition(t,i,e){t=Math.log(t),i=Math.log(i),e=Math.log(e);let n=e-i;return(t-i)/n}static linearPositionToValue(t,i,e){return t*(e-i)+i}static logPositionToValue(t,i,e){i=Math.log(i),e=Math.log(e);let n=t*(e-i)+i;return Math.exp(n)}static findStepIndex(t,i){let e=i.map(s=>Math.abs(t-s.value)),n=0;for(let s=0;s<i.length;s++)e[s]!==e[n]&&e[s]<e[n]&&(n=s);return n}},Me=class{static isTouchEvent(t){return window.TouchEvent!==void 0?t instanceof TouchEvent:t.touches!==void 0}static isResizeObserverAvailable(){return window.ResizeObserver!==void 0}},j=class{static roundToPrecisionLimit(t,i){return+t.toPrecision(i)}static isModuloWithinPrecisionLimit(t,i,e){let n=Math.pow(10,-e);return Math.abs(t%i)<=n||Math.abs(Math.abs(t%i)-i)<=n}static clampToRange(t,i,e){return Math.min(Math.max(t,i),e)}},zi=class{eventName=null;events=null;eventsSubscription=null;teardownCallback=null},Gi=class{renderer;constructor(t){this.renderer=t}attachPassiveEventListener(t,i,e,n){if(qi!==!0)return this.attachEventListener(t,i,e,n);let s=new zi;s.eventName=i,s.events=new he;let o=a=>{s.events.next(a)};return t.addEventListener(i,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{t.removeEventListener(i,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(m.isNullOrUndefined(n)?z(()=>{}):pn(n,void 0,{leading:!0,trailing:!0})).subscribe(a=>{e(a)}),s}detachEventListener(t){m.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),m.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),m.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,i,e,n){let s=new zi;s.eventName=i,s.events=new he;let o=a=>{s.events.next(a)};return s.teardownCallback=this.renderer.listen(t,i,o),s.eventsSubscription=s.events.pipe(m.isNullOrUndefined(n)?z(()=>{}):pn(n,void 0,{leading:!0,trailing:!0})).subscribe(a=>{e(a)}),s}},je=(()=>{class r{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(i,e,n){this.elemRef=i,this.renderer=e,this.changeDetectionRef=n,this.eventListenerHelper=new Gi(this.renderer)}setAlwaysHide(i){this._alwaysHide=i,i?this.visibility="hidden":this.visibility="visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return this.alwaysHide?!1:this.opacity!==0}setVertical(i){this._vertical=i,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(i){this._scale=i}setRotate(i){this._rotate=i,this.transform="rotate("+i+"deg)"}getRotate(){return this._rotate}setPosition(i){this._position!==i&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=i,this._vertical?this.bottom=Math.round(i)+"px":this.left=Math.round(i)+"px"}calculateDimension(){let i=this.getBoundingClientRect();this.vertical?this._dimension=(i.bottom-i.top)*this.scale:this._dimension=(i.right-i.left)*this.scale}setDimension(i){this._dimension!==i&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=i,this._vertical?this.height=Math.round(i)+"px":this.width=Math.round(i)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(i,e,n){let s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,i,e,n);this.eventListeners.push(s)}onPassive(i,e,n){let s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,i,e,n);this.eventListeners.push(s)}off(i){let e,n;m.isNullOrUndefined(i)?(e=[],n=this.eventListeners):(e=this.eventListeners.filter(s=>s.eventName!==i),n=this.eventListeners.filter(s=>s.eventName===i));for(let s of n)this.eventListenerHelper.detachEventListener(s);this.eventListeners=e}isRefDestroyed(){return m.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(e){return new(e||r)(X(Je),X(et),X(De))};static \u0275dir=Qe({type:r,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(e,n){e&2&&xn("opacity",n.opacity)("visibility",n.visibility)("left",n.left)("bottom",n.bottom)("height",n.height)("width",n.width)("transform",n.transform)}})}return r})(),Pr=(()=>{class r extends je{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}focusIfNeeded(){document.activeElement!==this.elemRef.nativeElement&&this.elemRef.nativeElement.focus()}constructor(i,e,n){super(i,e,n)}static \u0275fac=function(e){return new(e||r)(X(Je),X(et),X(De))};static \u0275dir=Qe({type:r,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,n){e&2&&(At("role",n.role)("tabindex",n.tabindex)("aria-orientation",n.ariaOrientation)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("aria-valuenow",n.ariaValueNow)("aria-valuetext",n.ariaValueText)("aria-valuemin",n.ariaValueMin)("aria-valuemax",n.ariaValueMax),tt("ngx-slider-active",n.active))},features:[On]})}return r})(),vt=(()=>{class r extends je{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(i,e,n,s){super(i,e,n),this.allowUnsafeHtmlInSlider=s}setValue(i){let e=!1;!this.alwaysHide&&(m.isNullOrUndefined(this.value)||this.value.length!==i.length||this.value.length>0&&this.dimension===0)&&(e=!0),this._value=i,this.allowUnsafeHtmlInSlider===!1?this.elemRef.nativeElement.innerText=i:this.elemRef.nativeElement.innerHTML=i,e&&this.calculateDimension()}static \u0275fac=function(e){return new(e||r)(X(Je),X(et),X(De),X(Qo,8))};static \u0275dir=Qe({type:r,selectors:[["","ngxSliderLabel",""]],features:[On]})}return r})(),Eu=(()=>{class r{template;tooltip;placement;content;static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Fe({type:r,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,n){e&1&&Te(0,nu,2,6,"ng-container",0)(1,ru,3,3,"ng-container",0),e&2&&(F("ngIf",n.template),G(),F("ngIf",!n.template))},dependencies:[Lt,Us],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return r})(),Vr=class{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null},Wi=class{active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0},wt=class{value;highValue;static compare(t,i){return m.isNullOrUndefined(t)&&m.isNullOrUndefined(i)||m.isNullOrUndefined(t)!==m.isNullOrUndefined(i)?!1:t.value===i.value&&t.highValue===i.highValue}},Ki=class extends wt{forceChange;static compare(t,i){return m.isNullOrUndefined(t)&&m.isNullOrUndefined(i)||m.isNullOrUndefined(t)!==m.isNullOrUndefined(i)?!1:t.value===i.value&&t.highValue===i.highValue&&t.forceChange===i.forceChange}};var Ou={provide:Wo,useExisting:fn(()=>kr),multi:!0},kr=(()=>{class r{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;sliderElementNgxSliderClass=!0;value=null;valueChange=new fe;highValue=null;highValueChange=new fe;options=new yt;userChangeStart=new fe;userChange=new fe;userChangeEnd=new fe;manualRefreshSubscription;set manualRefresh(i){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=i.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(i){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=i.subscribe(e=>{this.focusPointer(e)})}get range(){return!m.isNullOrUndefined(this.value)&&!m.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new he;inputModelChangeSubscription=null;outputModelChangeSubject=new he;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new yt;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new Wi;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(i,e,n,s,o){this.renderer=i,this.elementRef=e,this.changeDetectionRef=n,this.zone=s,this.allowUnsafeHtmlInSlider=o,this.eventListenerHelper=new Gi(this.renderer)}ngOnInit(){this.viewOptions=new yt,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(i){!m.isNullOrUndefined(i.options)&&JSON.stringify(i.options.previousValue)!==JSON.stringify(i.options.currentValue)&&this.onChangeOptions(),(!m.isNullOrUndefined(i.value)||!m.isNullOrUndefined(i.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(i){i instanceof Array?(this.value=i[0],this.highValue=i[1]):this.value=i,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(i){this.onChangeCallback=i}registerOnTouched(i){this.onTouchedCallback=i}setDisabledState(i){this.viewOptions.disabled=i,this.updateDisabledState()}setAriaLabel(i){this.viewOptions.ariaLabel=i,this.updateAriaLabel()}onResize(i){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(dn(Ki.compare),_e(i=>!i.forceChange&&!i.internalChange)).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(dn(Ki.compare)).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Me.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Me.isResizeObserverAvailable()&&this.resizeObserver!==null&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){m.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){m.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){m.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){m.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){m.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){m.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(i){return i===E.Min?this.minHandleElement:i===E.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===E.Min?this.viewLowValue:this.currentTrackingPointer===E.Max?this.viewHighValue:null}modelValueToViewValue(i){return m.isNullOrUndefined(i)?NaN:!m.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?m.findStepIndex(+i,this.viewOptions.stepsArray):+i}viewValueToModelValue(i){return!m.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?this.getStepValue(i):i}getStepValue(i){let e=this.viewOptions.stepsArray[i];return m.isNullOrUndefined(e)?NaN:e.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(i){let e=this.normaliseModelValues(i),n=!wt.compare(i,e);n&&(this.value=e.value,this.highValue=e.highValue),this.viewLowValue=this.modelValueToViewValue(e.value),this.range?this.viewHighValue=this.modelValueToViewValue(e.highValue):this.viewHighValue=null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:e.value,highValue:e.highValue,forceChange:n,userEventInitiated:!1})}publishOutputModelChange(i){let e=()=>{this.valueChange.emit(i.value),this.range&&this.highValueChange.emit(i.highValue),m.isNullOrUndefined(this.onChangeCallback)||(this.range?this.onChangeCallback([i.value,i.highValue]):this.onChangeCallback(i.value)),m.isNullOrUndefined(this.onTouchedCallback)||(this.range?this.onTouchedCallback([i.value,i.highValue]):this.onTouchedCallback(i.value))};i.userEventInitiated?(e(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{e()})}normaliseModelValues(i){let e=new wt;if(e.value=i.value,e.highValue=i.highValue,!m.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){let n=m.findStepIndex(e.value,this.viewOptions.stepsArray);if(e.value=this.viewOptions.stepsArray[n].value,this.range){let s=m.findStepIndex(e.highValue,this.viewOptions.stepsArray);e.highValue=this.viewOptions.stepsArray[s].value}}return e}if(this.viewOptions.enforceStep&&(e.value=this.roundStep(e.value),this.range&&(e.highValue=this.roundStep(e.highValue))),this.viewOptions.enforceRange&&(e.value=j.clampToRange(e.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(e.highValue=j.clampToRange(e.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&i.value>i.highValue))if(this.viewOptions.noSwitching)e.value=e.highValue;else{let n=i.value;e.value=i.highValue,e.highValue=n}return e}renormaliseModelValues(){let i={value:this.value,highValue:this.highValue},e=this.normaliseModelValues(i);wt.compare(e,i)||(this.value=e.value,this.highValue=e.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;let i=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();let e=this.getOptionsInfluencingEventBindings(this.viewOptions),n=!m.areArraysEqual(i,e);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.resetSlider(n)}applyOptions(){if(this.viewOptions=new yt,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!m.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!m.isNullOrUndefined(this.viewOptions.tickStep)||!m.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!m.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),m.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),m.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(i,e)=>i+" - "+e),this.viewOptions.logScale&&this.viewOptions.floor===0)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,m.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=i=>this.viewOptions.bindIndexForStepsArray?String(this.getStepValue(i)):String(i))}applyFloorCeilOptions(){if(m.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),m.isNullOrUndefined(this.viewOptions.ceil)||m.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,m.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=i=>String(i))}resetSlider(i=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),i&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(i){i!==E.Min&&i!==E.Max&&(i=E.Min),i===E.Min?this.minHandleElement.focus():this.range&&i===E.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){m.isNullOrUndefined(this.currentFocusPointer)||this.getPointerElement(this.currentFocusPointer).focusIfNeeded()}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);let i=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(i||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(i||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(i||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(let i of this.getAllSliderElements())m.isNullOrUndefined(i)||i.setVertical(this.viewOptions.vertical)}updateScale(){for(let i of this.getAllSliderElements())i.setScale(this.viewOptions.scale)}updateRotate(){for(let i of this.getAllSliderElements())i.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.minHandleElement.tabindex="0":this.minHandleElement.tabindex="",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",m.isNullOrUndefined(this.viewOptions.ariaLabel)?m.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.maxHandleElement.tabindex="0":this.maxHandleElement.tabindex="",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",m.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?m.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Oe.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Oe.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){m.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);let i=this.minHandleElement.dimension;this.handleHalfDimension=i/2,m.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-i,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass){setTimeout(()=>{this.sliderElementWithLegendClass=!1});return}let i=m.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,e=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&i.reverse();let n=m.isNullOrUndefined(this.viewOptions.tickValueStep)?m.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep,s=!1,o=i.map(a=>{let l=this.valueToPosition(a);this.viewOptions.vertical&&(l=this.maxHandlePosition-l);let c=e+"("+Math.round(l)+"px)",p=new Vr;p.selected=this.isTickSelected(a),p.style={"-webkit-transform":c,"-moz-transform":c,"-o-transform":c,"-ms-transform":c,transform:c},p.selected&&!m.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(p.style["background-color"]=this.getSelectionBarColor()),!p.selected&&!m.isNullOrUndefined(this.viewOptions.getTickColor)&&(p.style["background-color"]=this.getTickColor(a)),m.isNullOrUndefined(this.viewOptions.ticksTooltip)||(p.tooltip=this.viewOptions.ticksTooltip(a),p.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!m.isNullOrUndefined(n)&&j.isModuloWithinPrecisionLimit(a,n,this.viewOptions.precisionLimit)&&(p.value=this.getDisplayValue(a,Oe.TickValue),m.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(p.valueTooltip=this.viewOptions.ticksValuesTooltip(a),p.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let b=null;if(m.isNullOrUndefined(this.viewOptions.stepsArray))m.isNullOrUndefined(this.viewOptions.getLegend)||(b=this.viewOptions.getLegend(a));else{let O=this.viewOptions.stepsArray[a];m.isNullOrUndefined(this.viewOptions.getStepLegend)?m.isNullOrUndefined(O)||(b=O.legend):b=this.viewOptions.getStepLegend(O)}return m.isNullOrUndefined(b)||(p.legend=b,s=!0),p});if(this.sliderElementWithLegendClass!==s&&setTimeout(()=>{this.sliderElementWithLegendClass=s}),!m.isNullOrUndefined(this.ticks)&&this.ticks.length===o.length)for(let a=0;a<o.length;++a)Object.assign(this.ticks[a],o[a]);else this.ticks=o,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){if(!this.viewOptions.showTicks)return[];let i=m.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,e=[],n=1+Math.floor(j.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/i,this.viewOptions.precisionLimit));for(let s=0;s<n;++s)e.push(j.roundToPrecisionLimit(this.viewOptions.floor+i*s,this.viewOptions.precisionLimit));return e}isTickSelected(i){if(!this.range)if(m.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(i>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&i<=this.viewLowValue)return!0}else{let e=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>e&&i>=e&&i<=this.viewLowValue)return!0;if(this.viewLowValue<e&&i<=e&&i>=this.viewLowValue)return!0}return!!(this.range&&i>=this.viewLowValue&&i<=this.viewHighValue)}updateFloorLabel(){if(!this.floorLabelElement.alwaysHide){this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Oe.Floor)),this.floorLabelElement.calculateDimension();let i=this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0;this.floorLabelElement.setPosition(i)}}updateCeilLabel(){if(!this.ceilLabelElement.alwaysHide){this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Oe.Ceil)),this.ceilLabelElement.calculateDimension();let i=this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension;this.ceilLabelElement.setPosition(i)}}updateHandles(i,e){i===E.Min?this.updateLowHandle(e):i===E.Max&&this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(i,e){let n=i===E.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=e-n/2+this.handleHalfDimension,o=this.fullBarElement.dimension-n;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&i===E.Min||!this.viewOptions.rightToLeft&&i===E.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(i){this.minHandleElement.setPosition(i),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Oe.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(E.Min,i)),m.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(E.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(i){this.maxHandleElement.setPosition(i),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Oe.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(E.Max,i)),m.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(E.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let i=!1,e=!1,n=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),l=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(n?(i=!0,this.floorLabelElement.hide()):(i=!1,this.floorLabelElement.show()),s?(e=!0,this.ceilLabelElement.hide()):(e=!1,this.ceilLabelElement.show()),this.range){let c=this.combinedLabelElement.isVisible()?l:o,p=this.combinedLabelElement.isVisible()?a:n;c?this.ceilLabelElement.hide():e||this.ceilLabelElement.show(),p?this.floorLabelElement.hide():i||this.floorLabelElement.show()}}isLabelBelowFloorLabel(i){let e=i.position,n=i.dimension,s=this.floorLabelElement.position,o=this.floorLabelElement.dimension;return this.viewOptions.rightToLeft?e+n>=s-2:e<=s+o+2}isLabelAboveCeilLabel(i){let e=i.position,n=i.dimension,s=this.ceilLabelElement.position,o=this.ceilLabelElement.dimension;return this.viewOptions.rightToLeft?e<=s+o+2:e+n>=s-2}updateSelectionBar(){let i=0,e=0,n=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)e=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),i=s;else if(m.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))n?(e=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),i=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(e=this.minHandleElement.position+this.handleHalfDimension,i=0);else{let o=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(e=this.minHandleElement.position-a,i=a+this.handleHalfDimension):(e=a-this.minHandleElement.position,i=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(e),this.selectionBarElement.setPosition(i),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(i),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(i+e)),this.leftOuterSelectionBarElement.setPosition(i+e)):(this.leftOuterSelectionBarElement.setDimension(i),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(i+e)),this.rightOuterSelectionBarElement.setPosition(i+e))),m.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!m.isNullOrUndefined(this.viewOptions.selectionBarGradient)){let o=m.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=o-i>0&&!n||o-i<=0&&n,l=this.viewOptions.vertical?a?"bottom":"top":a?"left":"right";this.barStyle={backgroundImage:"linear-gradient(to "+l+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+e+i+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-i+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{let o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(i){return i===E.Max?this.viewOptions.getPointerColor(this.highValue,i):this.viewOptions.getPointerColor(this.value,i)}getTickColor(i){return this.viewOptions.getTickColor(i)}updateCombinedLabel(){let i=null;if(this.viewOptions.rightToLeft?i=this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:i=this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,i){let e=this.getDisplayValue(this.viewLowValue,Oe.Low),n=this.getDisplayValue(this.viewHighValue,Oe.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(n,e):this.viewOptions.combineLabels(e,n);this.combinedLabelElement.setValue(s);let o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(i,e){return!m.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(i=this.getStepValue(i)),this.viewOptions.translate(i,e)}roundStep(i,e){let n=m.isNullOrUndefined(e)?this.viewOptions.step:e,s=j.roundToPrecisionLimit((i-this.viewOptions.floor)/n,this.viewOptions.precisionLimit);return s=Math.round(s)*n,j.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(i){let e=m.linearValueToPosition;m.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(e=m.logValueToPosition):e=this.viewOptions.customValueToPosition,i=j.clampToRange(i,this.viewOptions.floor,this.viewOptions.ceil);let n=e(i,this.viewOptions.floor,this.viewOptions.ceil);return m.isNullOrUndefined(n)&&(n=0),this.viewOptions.rightToLeft&&(n=1-n),n*this.maxHandlePosition}positionToValue(i){let e=i/this.maxHandlePosition;this.viewOptions.rightToLeft&&(e=1-e);let n=m.linearPositionToValue;m.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(n=m.logPositionToValue):n=this.viewOptions.customPositionToValue;let s=n(e,this.viewOptions.floor,this.viewOptions.ceil);return m.isNullOrUndefined(s)?0:s}getEventXY(i,e){if(i instanceof MouseEvent)return this.viewOptions.vertical||this.viewOptions.rotate!==0?i.clientY:i.clientX;let n=0,s=i.touches;if(!m.isNullOrUndefined(e)){for(let o=0;o<s.length;o++)if(s[o].identifier===e){n=o;break}}return this.viewOptions.vertical||this.viewOptions.rotate!==0?s[n].clientY:s[n].clientX}getEventPosition(i,e){let n=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical||this.viewOptions.rotate!==0?n.bottom:n.left,o=0;return this.viewOptions.vertical||this.viewOptions.rotate!==0?o=-this.getEventXY(i,e)+s:o=this.getEventXY(i,e)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(i){if(!this.range)return E.Min;let e=this.getEventPosition(i),n=Math.abs(e-this.minHandleElement.position),s=Math.abs(e-this.maxHandleElement.position);return n<s?E.Min:n>s?E.Max:this.viewOptions.rightToLeft?e>this.minHandleElement.position?E.Min:E.Max:e<this.minHandleElement.position?E.Min:E.Max}bindEvents(){let i=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",e=>this.onBarStart(null,i,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",e=>this.onBarStart(E.Min,i,e,!0,!0)),this.maxHandleElement.on("mousedown",e=>this.onBarStart(E.Max,i,e,!0,!0))):(this.minHandleElement.on("mousedown",e=>this.onStart(E.Min,e,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",e=>this.onStart(E.Max,e,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",e=>this.onStart(null,e,!0,!0,!0)),this.ticksElement.on("mousedown",e=>this.onStart(null,e,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",e=>this.onBarStart(null,i,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",e=>this.onBarStart(E.Min,i,e,!0,!0)),this.maxHandleElement.onPassive("touchstart",e=>this.onBarStart(E.Max,i,e,!0,!0))):(this.minHandleElement.onPassive("touchstart",e=>this.onStart(E.Min,e,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",e=>this.onStart(E.Max,e,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",e=>this.onStart(null,e,!0,!0,!0)),this.ticksElement.onPassive("touchstart",e=>this.onStart(null,e,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(E.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(E.Max)))}getOptionsInfluencingEventBindings(i){return[i.disabled,i.readOnly,i.draggableRange,i.draggableRangeOnly,i.onlyBindHandles,i.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(let i of this.getAllSliderElements())m.isNullOrUndefined(i)||i.off()}onBarStart(i,e,n,s,o,a,l){e?this.onDragStart(i,n,s,o):this.onStart(i,n,s,o,a,l)}onStart(i,e,n,s,o,a){e.stopPropagation(),!Me.isTouchEvent(e)&&!qi&&e.preventDefault(),this.moving=!1,this.calculateViewDimensions(),m.isNullOrUndefined(i)&&(i=this.getNearestHandle(e)),this.currentTrackingPointer=i;let l=this.getPointerElement(i);if(l.active=!0,this.viewOptions.keyboardSupport&&l.focus(),n){this.unsubscribeOnMove();let c=p=>this.dragging.active?this.onDragMove(p):this.onMove(p);Me.isTouchEvent(e)?this.onMoveEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",c):this.onMoveEventListener=this.eventListenerHelper.attachEventListener(document,"mousemove",c)}if(s){this.unsubscribeOnEnd();let c=p=>this.onEnd(p);Me.isTouchEvent(e)?this.onEndEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchend",c):this.onEndEventListener=this.eventListenerHelper.attachEventListener(document,"mouseup",c)}this.userChangeStart.emit(this.getChangeContext()),Me.isTouchEvent(e)&&!m.isNullOrUndefined(e.changedTouches)&&m.isNullOrUndefined(this.touchId)&&(this.touchId=e.changedTouches[0].identifier),o&&this.onMove(e,!0),a&&this.onEnd(e)}onMove(i,e){let n=null;if(Me.isTouchEvent(i)){let c=i.changedTouches;for(let p=0;p<c.length;p++)if(c[p].identifier===this.touchId){n=c[p];break}if(m.isNullOrUndefined(n))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let s=m.isNullOrUndefined(n)?this.getEventPosition(i):this.getEventPosition(i,n.identifier),o,a=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil,l=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor;s<=0?o=l:s>=this.maxHandlePosition?o=a:(o=this.positionToValue(s),e&&!m.isNullOrUndefined(this.viewOptions.tickStep)?o=this.roundStep(o,this.viewOptions.tickStep):o=this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(i){Me.isTouchEvent(i)&&i.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(i){let e=this.getPointerElement(i);e.on("blur",()=>this.onPointerBlur(e)),e.on("keydown",n=>this.onKeyboardEvent(n)),e.on("keyup",()=>this.onKeyUp()),e.active=!0,this.currentTrackingPointer=i,this.currentFocusPointer=i,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(i){i.off("blur"),i.off("keydown"),i.off("keyup"),i.active=!1,m.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(i){let e=this.viewOptions.ceil-this.viewOptions.floor,n=i+this.viewOptions.step,s=i-this.viewOptions.step,o=i+e/10,a=i-e/10;this.viewOptions.reversedControls&&(n=i-this.viewOptions.step,s=i+this.viewOptions.step,o=i-e/10,a=i+e/10);let l={UP:n,DOWN:s,LEFT:s,RIGHT:n,PAGEUP:o,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(l.LEFT=n,l.RIGHT=s,(this.viewOptions.vertical||this.viewOptions.rotate!==0)&&(l.UP=s,l.DOWN=n)),l}onKeyboardEvent(i){let e=this.getCurrentTrackingValue(),n=m.isNullOrUndefined(i.keyCode)?i.which:i.keyCode,s={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},o=this.getKeyActions(e),a=s[n],l=o[a];if(m.isNullOrUndefined(l)||m.isNullOrUndefined(this.currentTrackingPointer))return;i.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));let c=j.clampToRange(l,this.viewOptions.floor,this.viewOptions.ceil),p=this.roundStep(c);if(!this.viewOptions.draggableRangeOnly)this.positionTrackingHandle(p);else{let b=this.viewHighValue-this.viewLowValue,O,L;this.currentTrackingPointer===E.Min?(O=p,L=p+b,L>this.viewOptions.ceil&&(L=this.viewOptions.ceil,O=L-b)):this.currentTrackingPointer===E.Max&&(L=p,O=p-b,O<this.viewOptions.floor&&(O=this.viewOptions.floor,L=O+b)),this.positionTrackingBar(O,L)}}onDragStart(i,e,n,s){let o=this.getEventPosition(e);this.dragging=new Wi,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(i,e,n,s)}getMinValue(i,e,n){let s=this.viewOptions.rightToLeft,o=null;return e?n?o=s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:o=s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:o=s?this.positionToValue(i+this.dragging.lowLimit):this.positionToValue(i-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(i,e,n){let s=this.viewOptions.rightToLeft,o=null;return e?n?o=s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:o=s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?o=this.positionToValue(i+this.dragging.lowLimit)+this.dragging.difference:o=this.positionToValue(i-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(i){let e=this.getEventPosition(i);this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let n,s,o,a;this.viewOptions.rightToLeft?(n=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,a=this.minHandleElement):(n=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,a=this.maxHandleElement);let l=e<=s,c=e>=this.maxHandlePosition-n,p,b;if(l){if(o.position===0)return;p=this.getMinValue(e,!0,!1),b=this.getMaxValue(e,!0,!1)}else if(c){if(a.position===this.maxHandlePosition)return;b=this.getMaxValue(e,!0,!0),p=this.getMinValue(e,!0,!0)}else p=this.getMinValue(e,!1,!1),b=this.getMaxValue(e,!1,!1);this.positionTrackingBar(p,b)}positionTrackingBar(i,e){!m.isNullOrUndefined(this.viewOptions.minLimit)&&i<this.viewOptions.minLimit&&(i=this.viewOptions.minLimit,e=j.roundToPrecisionLimit(i+this.dragging.difference,this.viewOptions.precisionLimit)),!m.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit&&(e=this.viewOptions.maxLimit,i=j.roundToPrecisionLimit(e-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=i,this.viewHighValue=e,this.applyViewChange(),this.updateHandles(E.Min,this.valueToPosition(i)),this.updateHandles(E.Max,this.valueToPosition(e))}positionTrackingHandle(i){i=this.applyMinMaxLimit(i),this.range&&(this.viewOptions.pushRange?i=this.applyPushRange(i):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===E.Min&&i>this.viewHighValue?i=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===E.Max&&i<this.viewLowValue&&(i=this.applyMinMaxRange(this.viewLowValue))),i=this.applyMinMaxRange(i),this.currentTrackingPointer===E.Min&&i>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(E.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=E.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===E.Max&&i<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(E.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=E.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==i&&(this.currentTrackingPointer===E.Min?(this.viewLowValue=i,this.applyViewChange()):this.currentTrackingPointer===E.Max&&(this.viewHighValue=i,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(i)),this.updateAriaAttributes())}applyMinMaxLimit(i){return!m.isNullOrUndefined(this.viewOptions.minLimit)&&i<this.viewOptions.minLimit?this.viewOptions.minLimit:!m.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit?this.viewOptions.maxLimit:i}applyMinMaxRange(i){let e=this.currentTrackingPointer===E.Min?this.viewHighValue:this.viewLowValue,n=Math.abs(i-e);if(!m.isNullOrUndefined(this.viewOptions.minRange)&&n<this.viewOptions.minRange){if(this.currentTrackingPointer===E.Min)return j.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===E.Max)return j.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!m.isNullOrUndefined(this.viewOptions.maxRange)&&n>this.viewOptions.maxRange){if(this.currentTrackingPointer===E.Min)return j.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===E.Max)return j.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return i}applyPushRange(i){let e=this.currentTrackingPointer===E.Min?this.viewHighValue-i:i-this.viewLowValue,n=m.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return e<n?(this.currentTrackingPointer===E.Min?(this.viewHighValue=j.roundToPrecisionLimit(Math.min(i+n,this.viewOptions.ceil),this.viewOptions.precisionLimit),i=j.roundToPrecisionLimit(this.viewHighValue-n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(E.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===E.Max&&(this.viewLowValue=j.roundToPrecisionLimit(Math.max(i-n,this.viewOptions.floor),this.viewOptions.precisionLimit),i=j.roundToPrecisionLimit(this.viewLowValue+n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(E.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!m.isNullOrUndefined(s)&&e>s&&(this.currentTrackingPointer===E.Min?(this.viewHighValue=j.roundToPrecisionLimit(i+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(E.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===E.Max&&(this.viewLowValue=j.roundToPrecisionLimit(i-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(E.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),i}getChangeContext(){let i=new Tr;return i.pointerType=this.currentTrackingPointer,i.value=+this.value,this.range&&(i.highValue=+this.highValue),i}static \u0275fac=function(e){return new(e||r)(X(et),X(Je),X(De),X(J),X(Qo,8))};static \u0275cmp=Fe({type:r,selectors:[["ngx-slider"]],contentQueries:function(e,n,s){if(e&1&&An(s,su,5),e&2){let o;te(o=ie())&&(n.tooltipTemplate=o.first)}},viewQuery:function(e,n){if(e&1&&(oe(ou,5,je),oe(au,5,je),oe(lu,5,je),oe(cu,5,je),oe(uu,5,Pr),oe(du,5,Pr),oe(hu,5,vt),oe(pu,5,vt),oe(fu,5,vt),oe(gu,5,vt),oe(mu,5,vt),oe(vu,5,je)),e&2){let s;te(s=ie())&&(n.leftOuterSelectionBarElement=s.first),te(s=ie())&&(n.rightOuterSelectionBarElement=s.first),te(s=ie())&&(n.fullBarElement=s.first),te(s=ie())&&(n.selectionBarElement=s.first),te(s=ie())&&(n.minHandleElement=s.first),te(s=ie())&&(n.maxHandleElement=s.first),te(s=ie())&&(n.floorLabelElement=s.first),te(s=ie())&&(n.ceilLabelElement=s.first),te(s=ie())&&(n.minHandleLabelElement=s.first),te(s=ie())&&(n.maxHandleLabelElement=s.first),te(s=ie())&&(n.combinedLabelElement=s.first),te(s=ie())&&(n.ticksElement=s.first)}},hostVars:10,hostBindings:function(e,n){e&1&&it("resize",function(o){return n.onResize(o)},!1,as),e&2&&(At("disabled",n.sliderElementDisabledAttr)("aria-label",n.sliderElementAriaLabel),tt("ngx-slider",n.sliderElementNgxSliderClass)("vertical",n.sliderElementVerticalClass)("animate",n.sliderElementAnimateClass)("with-legend",n.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[ws([Ou]),li],decls:29,vars:13,consts:[["leftOuterSelectionBar",""],["rightOuterSelectionBar",""],["fullBar",""],["selectionBar",""],["minHandle",""],["maxHandle",""],["floorLabel",""],["ceilLabel",""],["minHandleLabel",""],["maxHandleLabel",""],["combinedLabel",""],["ticksElement",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,n){e&1&&(K(0,"span",12,0),$(2,"span",13),ee(),K(3,"span",14,1),$(5,"span",13),ee(),K(6,"span",15,2),$(8,"span",13),ee(),K(9,"span",16,3),$(11,"span",17),ee(),$(12,"span",18,4)(14,"span",19,5)(16,"span",20,6)(18,"span",21,7)(20,"span",22,8)(22,"span",23,9)(24,"span",24,10),K(26,"span",25,11),Te(28,Su,5,10,"span",26),ee()),e&2&&(G(6),tt("ngx-slider-transparent",n.fullBarTransparentClass),G(3),tt("ngx-slider-draggable",n.selectionBarDraggableClass),G(2),F("ngStyle",n.barStyle),G(),F("ngStyle",n.minPointerStyle),G(2),xn("display",n.range?"inherit":"none"),F("ngStyle",n.maxPointerStyle),G(12),tt("ngx-slider-ticks-values-under",n.ticksUnderValuesClass),F("hidden",!n.showTicks),G(2),F("ngForOf",n.ticks))},dependencies:[Vs,ks,Lt,Ns,je,Pr,vt,Eu],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}']})}return r})(),Xo=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Ce({type:r});static \u0275inj=be({imports:[vi]})}return r})();function xu(r,t){if(r&1){let i=ps();K(0,"ngx-slider",18),ys("valueChange",function(n){vn(i);let s=ge();return vs(s.sliderValue,n)||(s.sliderValue=n),yn(n)}),it("userChange",function(){vn(i);let n=ge();return yn(n.onSliderChange())}),ee()}if(r&2){let i=ge();ms("value",i.sliderValue),F("options",i.sliderOptions)}}var ea=(()=>{let t=class t{constructor(){this.title="Open Place",this.colorPalette=["000000","000000","FFFFFF","0000FF","00FFFF","FF0000","00FF00","FFFF00","FF00FF","7c4dff"],this.defaultColor="FFFFFF",this.username=localStorage.getItem("username"),this.timeoutId=null,this.zoomLevel=1,this.audio=new Audio("assets/sfx/place.mp3"),this.pickr=null,this.hoverPixel=new Ge(-1,-1,""),this.pixelArr=[],this.dimensions={width:256,height:256},this.originX=0,this.originY=0,this.selectedColor=1,this.sliderValue=0,this.isSliderVisible=!1,this.sliderOptions={ceil:0,vertical:!0,showSelectionBar:!0,rightToLeft:!0},this.client=new Hi,this.databases=new Bi(this.client)}ngOnInit(){return Be(this,null,function*(){this.initialize(),this.setupCanvasEvents(),this.initializePaletteContainer(),this.initializeColorPicker(),this.setupWindowResizeEvent(),this.setupClientSubscription(),this.setupDocumentEvents()})}initializeColorPicker(){this.pickr=Jo.default.create({el:".color-picker",theme:"monolith",useAsButton:!0,position:"top-middle",autoReposition:!0,default:this.colorPalette[0],swatches:["rgb(244, 67, 54)","rgb(233, 30, 99)","rgb(156, 39, 176)","rgb(103, 58, 183)","rgb(63, 81, 181)","rgb(33, 150, 243)","rgb(3, 169, 244","rgb(0, 188, 212)","rgb(0, 150, 136)","rgb(76, 175, 80)","rgb(139, 195, 74)","rgb(205, 220, 57)","rgb(255, 235, 59)","rgb(255, 193, 7)"],components:{preview:!0,opacity:!1,hue:!0,interaction:{hex:!0,rgba:!0,cancel:!1,input:!0,clear:!1,save:!1}}}),this.pickr.on("hide",()=>{this.pickr?.applyColor()}),this.pickr.on("change",e=>{let n=e.toHEXA();this.colorPalette[0]=n[0]+n[1]+n[2];let s="#"+this.colorPalette[0],o=document.getElementById("0-color");o.style.backgroundColor=s,localStorage.setItem("customColor",this.colorPalette[0])})}initialize(){return Be(this,null,function*(){this.client.setEndpoint(we.endpointUrl).setProject(we.projectId),this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.setAttribute("tabindex","0"),yield this.initializeBoard(),this.isSliderVisible=!0,this.updateSlider()})}setupCanvasEvents(){this.resizeCanvas(),this.canvas.addEventListener("contextmenu",e=>e.preventDefault()),this.canvas.addEventListener("wheel",this.zoom.bind(this)),this.canvas.addEventListener("mousemove",this.onHover.bind(this)),this.canvas.addEventListener("mouseleave",this.onLeave.bind(this)),this.canvas.addEventListener("mouseover",e=>{!this.pickr?.isOpen()&&e.buttons==0&&this.canvas.focus()})}initializePaletteContainer(){let e=localStorage.getItem("customColor");e!==null&&(this.colorPalette[0]=e);let n=document.getElementById("palette-container");n&&this.colorPalette.forEach((s,o)=>{let a=document.createElement("div");a.style.width="40px",a.style.height="40px",a.style.backgroundColor=`#${s}`,a.style.borderRadius="50%",a.style.cursor="pointer",a.style.transition="transform 0.2s ease",a.style.border="2px solid #ffffff",a.style.display="inline-block",a.id=o.toString()+"-color",o==this.selectedColor&&(a.style.transform="scale(1.3)",a.style.border="3px solid #0080FF"),a.addEventListener("click",()=>this.handleColorDivClick(a)),a.addEventListener("mouseover",()=>a.style.transform="scale(1.3)"),a.addEventListener("mouseout",()=>a.style.transform="scale(1)"),n.appendChild(a)})}handleColorDivClick(e){this.selectedColor=parseInt(e.id.at(0)),document.querySelectorAll(".palette-container div").forEach(n=>{n.style.border="2px solid #ffffff",n.style.transform="scale(1.0)"}),e.style.border="3px solid #0080FF",e.style.transform="scale(1.3)",this.selectedColor==0&&this.pickr?.show()}setupWindowResizeEvent(){window.addEventListener("resize",()=>{this.zoomLevel=1,this.resizeCanvas(),this.drawBoard()})}setupClientSubscription(){this.client.subscribe(`databases.${we.databaseId}.collections.${we.collectionId}.documents`,e=>{let{$id:n,color:s,placedBy:o,$updatedAt:a}=e.payload,[l,c]=n.split("_").map(Number),p=this.pixelArr.find(b=>b.x===l&&b.y===c);p?(p.color=s,p.placedBy=o,p.timestamp=new Date(a)):this.pixelArr.push(new gt(l,c,s,o,new Date(a))),this.drawPixel(l,c,s),this.updateLeaderboard(),this.isSliderVisible&&this.updateSlider()})}setupDocumentEvents(){document.addEventListener("wheel",e=>e.preventDefault(),{passive:!1}),document.addEventListener("keydown",e=>this.handleColorSelection(e)),this.canvas.addEventListener("keydown",e=>this.handleMovement(e)),this.canvas.addEventListener("click",e=>this.handleCanvasClick(e)),this.canvas.addEventListener("mousedown",e=>this.getColor(e)),document.addEventListener("selectionchange",()=>{document.activeElement?.id=="canvas"&&window.getSelection().removeAllRanges()})}getColor(e){if(e.button!=2)return;let n=this.canvas.getBoundingClientRect(),s=this.calculateXPosition(e.clientX,n),o=this.calculateYPosition(e.clientY,n),a=this.pixelArr.find(p=>p.x===s&&p.y===o);if(!a)if(s<this.dimensions.width&&o<this.dimensions.height)a=new gt(s,o,this.defaultColor,"",new Date(0));else return;let l=this.colorPalette.indexOf(a.color);l==-1&&(l=0,localStorage.setItem("customColor",a.color),this.pickr?.setColor("#"+a.color,!1),this.colorPalette[0]=a.color),this.selectedColor=l;let c=document.getElementById(l+"-color");document.querySelectorAll(".palette-container div").forEach(p=>{p.style.border="2px solid #ffffff",p.style.transform="scale(1.0)"}),c.style.border="3px solid #0080FF",c.style.transform="scale(1.3)",this.drawHoverPixel(this.hoverPixel.x,this.hoverPixel.y,this.hoverPixel?.color??this.defaultColor,!0)}handleColorSelection(e){if(!this.pickr?.isOpen()&&e.code.startsWith("Digit")){let n=e.code.slice(5),s=9;n!="0"&&(s=parseInt(n)-1),this.selectedColor=s,this.drawHoverPixel(this.hoverPixel?.x??0,this.hoverPixel?.y??0,this.hoverPixel?.color??this.defaultColor,!0),document.querySelectorAll(".palette-container div").forEach(a=>{a.style.border="2px solid #ffffff",a.style.transform="scale(1.0)"});let o=document.getElementById(s.toString()+"-color");o.style.border="3px solid #0080FF",o.style.transform="scale(1.3)",this.pickr?.hide()}}handleMovement(e){switch(e.preventDefault(),e.key.toLocaleLowerCase()){case"w":case"arrowup":this.moveAndRedraw(0,-5);break;case"a":case"arrowleft":this.moveAndRedraw(-5,0);break;case"s":case"arrowdown":this.moveAndRedraw(0,5);break;case"d":case"arrowright":this.moveAndRedraw(5,0);break}}moveAndRedraw(e,n){this.resizeCanvas(),this.originX=Math.min(Math.max(this.originX+e,0),this.dimensions.width),this.originY=Math.min(Math.max(this.originY+n,0),this.dimensions.height),this.applyTransformations(),this.drawBoard()}handleCanvasClick(e){let n=this.canvas.getBoundingClientRect(),s=this.calculateXPosition(e.clientX,n),o=this.calculateYPosition(e.clientY,n),a=this.getValidPixelOrNull(s,o,this.colorPalette[this.selectedColor],this.username,new Date);a&&(this.hoverPixel=a,this.leaveHistoryMode(),this.drawPixel(a.x,a.y,a.color),this.sendPixel(a.x,a.y,a.color,e),this.increaseCounter())}leaveHistoryMode(){this.sliderValue!=this.pixelArr.length&&(this.sliderValue=this.pixelArr.length,this.drawBoard())}increaseCounter(){let e=localStorage.getItem("placedPixels"),n=1;e&&(n=parseInt(e)+1),localStorage.setItem("placedPixels",n.toString())}playSound(){return Be(this,null,function*(){this.audio.paused||(this.audio.pause(),this.audio.currentTime=0),this.audio.play()})}onHover(e){let n=this.canvas.getBoundingClientRect(),s=this.calculateXPosition(e.clientX,n),o=this.calculateYPosition(e.clientY,n),a=this.pixelArr.find(l=>l.x===s&&l.y===o);if(this.drawHoverPixel(s,o,a?.color,!1),a){if(!this.isHoverPixelExisting())return;let l={year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"},c=`(${a.x}, ${a.y}) ${a.placedBy||"Anonymous"}<br/>${a.timestamp.toLocaleDateString(void 0,l)}`;this.showBubble(c,e.clientX,e.clientY)}else this.hideBubble(!0)}calculateXPosition(e,n){return Math.floor((e-n.left)/n.width*this.dimensions.width/this.zoomLevel+(1-1/this.zoomLevel)*this.originX)}calculateYPosition(e,n){return Math.floor((e-n.top)/n.height*this.dimensions.height/this.zoomLevel+(1-1/this.zoomLevel)*this.originY)}hideBubble(e){let n=document.getElementById("bubble");e&&n?.innerText.startsWith("Wait")||n&&(n.style.visibility="hidden",n.style.opacity="0")}onLeave(){this.hoverPixel&&(this.isHoverPixelExisting()||(this.hoverPixel.color=this.defaultColor),this.drawPixel(this.hoverPixel.x,this.hoverPixel.y,this.hoverPixel.color),this.hoverPixel=new Ge(-1,-1,"")),this.hideBubble(!1)}isHoverPixelExisting(){if(this.isSliderVisible&&this.sliderValue!=this.pixelArr.length){let e=this.pixelArr.findIndex(n=>n.x===this.hoverPixel.x&&n.y===this.hoverPixel.y);if(this.sliderValue<=e)return!1}return!0}drawHoverPixel(e,n,s,o){this.hoverPixel?(this.hoverPixel.x!==e||this.hoverPixel.y!==n||o)&&(this.isHoverPixelExisting()||(this.hoverPixel.color=this.defaultColor),this.drawPixel(this.hoverPixel.x,this.hoverPixel.y,this.hoverPixel.color),this.hoverPixel=new Ge(e,n,s||this.defaultColor),this.drawPixel(e,n,this.colorPalette[this.selectedColor])):this.hoverPixel=new Ge(e,n,s||this.defaultColor)}showBubble(e,n,s){let o=document.getElementById("bubble"),a=this.canvas.getBoundingClientRect(),l=o.clientHeight;s-a.top<l&&(l=0);let c=o.clientWidth;n-a.left<a.width-c&&(c=0),o.style.visibility="visible",o.style.opacity="1",o.style.left=`${n-c}px`,o.style.top=`${s-l}px`,o.innerHTML=e,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.hideBubble,2e3)}initializeBoard(){return Be(this,null,function*(){let n=0,s;do s=yield this.databases.listDocuments(we.databaseId,we.collectionId,[Fi.limit(1e3),Fi.offset(n),Fi.orderAsc("$updatedAt")]),s.documents.forEach(o=>{let[a,l]=o.$id.split("_").map(Number),{color:c,placedBy:p,$updatedAt:b}=o,O=this.getValidPixelOrNull(a,l,c,p,new Date(b));O&&this.pixelArr.push(O)}),this.drawBoard(),this.drawHoverPixel(this.hoverPixel.x,this.hoverPixel.y,this.hoverPixel.color,!0),this.updateLeaderboard(),n+=1e3;while(s.documents.length>0);this.updateLeaderboard();try{let o=localStorage.getItem("board");if(o&&JSON.parse(o).length>=this.pixelArr.length)return;localStorage.setItem("board",JSON.stringify(this.pixelArr))}catch{console.log("Could not save board array.")}})}updateSlider(){this.sliderOptions={ceil:this.pixelArr.length,vertical:!0,showSelectionBar:!0,rightToLeft:!0},this.sliderValue=this.sliderOptions.ceil}updateLeaderboard(){let e=[];for(let s of this.pixelArr){let o=e.find(a=>a.name===s.placedBy);o?o.placedPixels++:e.push({name:s.placedBy,placedPixels:1})}let n=document.getElementById("leaderboard-list");n.innerHTML="",e.sort((s,o)=>o.placedPixels-s.placedPixels);for(let s=0;s<Math.min(10,e.length);s++){let o=s+1,a=document.createElement("li");a.className="leaderboard-item",a.innerHTML=`
        <span class="position">${o}.</span>
        <span class="name">${e[s].name}</span>
        <span class="score">${e[s].placedPixels}</span>
        `,n.appendChild(a)}}onSliderChange(){this.drawBoard()}getValidPixelOrNull(e,n,s,o,a){return e<0||e>=this.dimensions.width||n<0||n>=this.dimensions.height?null:((!s||!/^[0-9A-F]{6}$/i.test(s))&&(s=this.defaultColor),new gt(e,n,s,o,a))}sendPixel(e,n,s,o){let a=this.pixelArr.find(b=>b.x===e&&b.y===n);if(a&&a.color===s&&a.placedBy===this.username)return;this.playSound();let l=`${e}_${n}`,c={color:s,placedBy:this.username};(a?this.databases.updateDocument(we.databaseId,we.collectionId,l,c):this.databases.createDocument(we.databaseId,we.collectionId,l,c)).then(()=>{console.log("Success.")}).catch(b=>{if(b.message.includes("Rate limit")){let O=new Date;this.showBubble(`Wait ${60-O.getSeconds()} seconds.`,o.clientX,o.clientY)}this.drawBoard(),console.log(b)})}drawBoard(){let e=this.pixelArr.length;this.isSliderVisible&&(e=this.sliderValue),this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height);for(let n=0;n<e;n++){let s=this.pixelArr[n];this.drawPixel(s.x,s.y,s.color)}}drawPixel(e,n,s){this.getValidPixelOrNull(e,n,s,null,null)!=null&&(this.ctx.fillStyle="#"+s,this.ctx.fillRect(e,n,1,1))}resizeCanvas(){this.canvas.width=this.dimensions.width,this.canvas.height=this.dimensions.height;let e=Math.min(window.innerWidth,window.innerHeight/1.15);this.canvas.style.width=e+"px",this.canvas.style.height=e+"px";let n=document.getElementById("palette-container");n.style.width=e+"px"}usernameChange(e){let n=e.target.value;if(n.length>16){e.target.value=this.username||"",alert("Username cannot be longer than 16 characters.");return}this.username=n,localStorage.setItem("username",n)}zoom(e){this.updateZoomLevel(e.deltaY),this.resizeCanvas();let n=this.canvas.getBoundingClientRect();e.deltaY<0&&this.calculateOrigin(n,e.clientX,e.clientY),this.applyTransformations(),this.drawBoardAndHoverPixel(e,n)}drawBoardAndHoverPixel(e,n){this.drawBoard();let s=this.calculateXPosition(e.clientX,n),o=this.calculateYPosition(e.clientY,n);this.drawHoverPixel(s,o,this.pixelArr.find(a=>a.x===s&&a.y===o)?.color,!1)}updateZoomLevel(e){e<0?this.zoomLevel<10&&this.zoomLevel++:this.zoomLevel>1&&this.zoomLevel--}calculateOrigin(e,n,s){this.originX=Math.floor((n-e.left)/e.width*this.dimensions.width/this.zoomLevel+(1-1/this.zoomLevel)*this.originX),this.originY=Math.floor((s-e.top)/e.height*this.dimensions.height/this.zoomLevel+(1-1/this.zoomLevel)*this.originY)}applyTransformations(){this.ctx.translate(this.originX,this.originY),this.ctx.scale(this.zoomLevel,this.zoomLevel),this.ctx.translate(-this.originX,-this.originY)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Fe({type:t,selectors:[["app-root"]],decls:22,vars:2,consts:[["rel","stylesheet","href",os`https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/monolith.min.css`],[1,"min-h-screen","body","p-4"],[1,"container"],[1,"color-picker",2,"margin-right","30px"],["id","div"],["id","palette-container",1,"palette-container"],[2,"display","flex"],["id","canvas",1,"canvas",2,"flex","1"],[2,"flex","1"],["style","margin-left: 3vw","id","slider",3,"value","options","valueChange","userChange",4,"ngIf"],["id","bubble",1,"text-center","bg-red-400","font-bold","text-white","rounded","transition","py-1","px-2","animate-[showoff_100ms_ease-in]",2,"position","absolute","white-space","nowrap","touch-action","manipulation","visibility","hidden"],[2,"height","50%"],[1,"w-full","max-w-sm","p-6","bg-white","rounded-lg","shadow-md","username-input-container"],["for","username",1,"block","text-gray-700","text-sm","font-medium","mb-2"],["id","username","type","text","placeholder","Enter your username",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition","duration-300","ease-in-out",3,"change","value"],[1,"leaderboard"],[1,"leaderboard-header"],["id","leaderboard-list",1,"leaderboard-list"],["id","slider",2,"margin-left","3vw",3,"valueChange","userChange","value","options"]],template:function(n,s){n&1&&(K(0,"head"),$(1,"link",0),ee(),K(2,"body",1)(3,"div",2),$(4,"div",3),K(5,"div",4),$(6,"div",5),K(7,"div",6),$(8,"canvas",7),K(9,"div",8),Te(10,xu,1,2,"ngx-slider",9),ee()(),$(11,"span",10),ee(),K(12,"div",11)(13,"div",12)(14,"label",13),Rt(15,"Username"),ee(),K(16,"input",14),it("change",function(a){return s.usernameChange(a)}),ee()(),K(17,"div",15)(18,"div",16),Rt(19," Leaderboard "),ee(),$(20,"ul",17),ee()()()(),$(21,"router-outlet")),n&2&&(G(10),F("ngIf",s.isSliderVisible),G(6),fs("value",s.username))},dependencies:[Lt,Sr,kr],styles:[".canvas[_ngcontent-%COMP%]{display:block;background-color:#fff;image-rendering:pixelated;touch-action:manipulation;outline:none;border-radius:10px}.body[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:98vh;margin:0}@media (min-width: 1200px){.container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:flex-start}.username-input-container[_ngcontent-%COMP%]{flex-shrink:0;margin-top:12vh;width:280px}}@media (max-width: 1199px){.container[_ngcontent-%COMP%]{display:block;text-align:center}#div[_ngcontent-%COMP%]{margin-bottom:1rem}}.palette-container[_ngcontent-%COMP%]{background-color:#223a70;border-radius:20px;padding:8px;margin-bottom:20px;display:flex;justify-content:space-evenly}.rounded[_ngcontent-%COMP%]{border-radius:.5rem}.transition[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out,visibility .3s ease-in-out}.leaderboard[_ngcontent-%COMP%]{margin-top:4vh;width:100%;max-width:600px;background-color:#fff;border-radius:10px;overflow:hidden}.leaderboard-header[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:20px;text-align:center;font-size:1.5rem;font-weight:700}.leaderboard-list[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}"]});let r=t;return r})();var _u="@",Du=(()=>{let t=class t{constructor(e,n,s,o,a){this.doc=e,this.delegate=n,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=D(ls,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-Q7SHNJX3.js")).catch(n=>{throw new H(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:s})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let s=this.delegate.createRenderer(e,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Nr(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(e,n);o.use(l)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(n){ui()},t.\u0275prov=k({token:t,factory:t.\u0275fac});let r=t;return r})(),Nr=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,e,n){this.delegate.insertBefore(t,i,e,n)}removeChild(t,i,e){this.delegate.removeChild(t,i,e)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,n){this.delegate.setAttribute(t,i,e,n)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,n){this.delegate.setStyle(t,i,e,n)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){this.shouldReplay(i)&&this.replay.push(n=>n.setProperty(t,i,e)),this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e){return this.shouldReplay(i)&&this.replay.push(n=>n.listen(t,i,e)),this.delegate.listen(t,i,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(_u)}};function ta(r="animations"){return cs("NgAsyncAnimations"),ai([{provide:di,useFactory:(t,i,e)=>new Du(t,i,e,r),deps:[ae,wi,J]},{provide:rs,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ia=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ce({type:t,bootstrap:[ea]}),t.\u0275inj=be({providers:[ta()],imports:[Zs,Fo,Xo]});let r=t;return r})();Ys().bootstrapModule(ia).catch(r=>console.error(r));
